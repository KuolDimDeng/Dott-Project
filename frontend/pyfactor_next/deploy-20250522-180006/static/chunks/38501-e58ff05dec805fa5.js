"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38501],{15102:(e,t,n)=>{n.d(t,{$:()=>B});var o,i=n(87970),a=n(45103),r=n(75298),s=n(27593),l=n(61661),d=n(59262),u=n(78010),c=n(52750),g=n(54479),p=n(51148),h=n(73227),f=n(46734),m=n(85782),w=n(84620),y=n(62904),A=n(21149);new y.C("AuthError");let C={oauthSignInError:{message:A.fs.OAUTH_ERROR,log:"Make sure Cognito Hosted UI has been configured correctly"},noConfig:{message:A.fs.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:A.fs.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:A.fs.EMPTY_USERNAME},invalidUsername:{message:A.fs.INVALID_USERNAME},emptyPassword:{message:A.fs.EMPTY_PASSWORD},emptyCode:{message:A.fs.EMPTY_CODE},signUpError:{message:A.fs.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:A.fs.NO_MFA},invalidMFA:{message:A.fs.INVALID_MFA},emptyChallengeResponse:{message:A.fs.EMPTY_CHALLENGE},noUserSession:{message:A.fs.NO_USER_SESSION},deviceConfig:{message:A.fs.DEVICE_CONFIG},networkError:{message:A.fs.NETWORK_ERROR},autoSignInError:{message:A.fs.AUTOSIGNIN_ERROR},default:{message:A.fs.DEFAULT_MSG}};var S=n(63061);let v=(e,t)=>new S.l({message:e??"An error has occurred during the oauth process.",name:A.nC.OAuthSignInError,recoverySuggestion:t??C.oauthSignInError.log});!function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError",e.OAuthSignInError="oauthSignInError"}(o||(o={}));let U=async e=>{let t=await u.f.loadOAuthState(),n=e===t?t:void 0;if(!n)throw new S.l({name:o.OAuthSignInError,message:null===e?"`signInWithRedirect` has been canceled.":"An error occurred while validating the state.",recoverySuggestion:null===e?void 0:"Try to initiate an OAuth flow from Amplify"});return n},I=async({currentUrl:e,userAgentValue:t,clientId:n,redirectUri:o,responseType:i,domain:a,preferPrivateSession:r})=>{let s=new c.o(e),l=s.searchParams.get("error"),d=s.searchParams.get("error_description");if(l)throw v(d??l);return"code"===i?O({currentUrl:e,userAgentValue:t,clientId:n,redirectUri:o,domain:a,preferPrivateSession:r}):E({currentUrl:e,redirectUri:o,preferPrivateSession:r})},O=async({currentUrl:e,userAgentValue:t,clientId:n,redirectUri:o,domain:i,preferPrivateSession:r})=>{let s=new c.o(e),l=s.searchParams.get("code"),d=s.searchParams.get("state");if(!l||!d)throw v("User cancelled OAuth flow.");let p=await U(d),f=await u.f.loadPKCE(),m=Object.entries({grant_type:"authorization_code",code:l,client_id:n,redirect_uri:o,...f?{code_verifier:f}:{}}).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&"),{access_token:w,refresh_token:y,id_token:A,error:C,error_message:S,token_type:I,expires_in:O}=await (await fetch("https://"+i+"/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",[g.YJ]:t},body:m})).json();if(C)throw v(S??C);let E=(w&&(0,a.Cq)(w).payload.username)??"username";return await (0,h.i)({username:E,AccessToken:w,IdToken:A,RefreshToken:y}),T({redirectUri:o,state:p,preferPrivateSession:r})},E=async({currentUrl:e,redirectUri:t,preferPrivateSession:n})=>{let{id_token:o,access_token:i,state:r,token_type:s,expires_in:l,error_description:d,error:u}=(new c.o(e).hash??"#").substring(1).split("&").map(e=>e.split("=")).reduce((e,[t,n])=>({...e,[t]:n}),{id_token:void 0,access_token:void 0,state:void 0,token_type:void 0,expires_in:void 0,error_description:void 0,error:void 0});if(u)throw v(d??u);if(!i)throw v("No access token returned from OAuth flow.");let g=await U(r),p=(i&&(0,a.Cq)(i).payload.username)??"username";return await (0,h.i)({username:p,AccessToken:i,IdToken:o}),T({redirectUri:t,state:g,preferPrivateSession:n})},T=async({redirectUri:e,state:t,preferPrivateSession:n})=>{await w.o.setOAuthMetadata({oauthSignIn:!0}),await u.f.clearOAuthData(),await u.f.storeOAuthSignIn(!0,n),(0,m.i)(),R(e),_(t)&&p.YZ.dispatch("auth",{event:"customOAuthState",data:(M(t).match(/.{2}/g)||[]).map(e=>String.fromCharCode(parseInt(e,16))).join("")},"Auth",p.U9),p.YZ.dispatch("auth",{event:"signInWithRedirect"},"Auth",p.U9),await (0,f.Q)()},_=e=>/-/.test(e),M=e=>e.split("-").splice(1).join("-"),R=e=>{"undefined"!=typeof window&&void 0!==window.history&&window.history.replaceState(window.history.state,"",e)};var P=n(99245);let b=async e=>{(0,m.i)(),await u.f.clearOAuthInflightData(),p.YZ.dispatch("auth",{event:"signInWithRedirect_failure",data:{error:e}},"Auth",p.U9)},k=async e=>{try{(0,a.$y)(e),(0,a.G6)(e),u.f.setAuthConfig(e)}catch(e){return}if(await u.f.loadOAuthInFlight())try{let t=window.location.href,{loginWith:n,userPoolClientId:o}=e,{domain:i,redirectSignIn:a,responseType:r}=n.oauth,l=(0,P.M)(a);await I({currentUrl:t,clientId:o,domain:i,redirectUri:l,responseType:r,userAgentValue:(0,d.A)(s.BM.SignInWithRedirect)})}catch(e){await b(e)}};(0,r.B)()&&i.H[l.$](k);let N={Google:"Google",Facebook:"Facebook",Amazon:"LoginWithAmazon",Apple:"SignInWithApple"};var D=n(54621),$=n(65978),F=n(9296),H=n(10831),j=n(6218);let G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",V=e=>{let t,n=new Uint8Array(e);(0,H.MY)().getRandomValues(n);let o="";for(let e of n)o+=G.charAt(e%G.length);return{value:o,method:"S256",toCodeChallenge:()=>t||(t=function(e){let t=new F.I;return t.update(e),j.Y.convert(t.digestSync(),{urlSafe:!0}).replace(/=/g,"")}(o))}},x=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],o=new Uint8Array(e);for(let e of((0,H.MY)().getRandomValues(o),o))n.push(t[e%t.length]);return n.join("")},W=()=>x(32),z=e=>{async function t(n){if(n.persisted&&await e.loadOAuthInFlight()){let e=v("User cancelled OAuth flow.");await b(e)}window.removeEventListener("pageshow",t)}window.addEventListener("pageshow",t)};async function B(e){let t=i.H.getConfig().Auth?.Cognito;(0,a.$y)(t),(0,a.G6)(t),u.f.setAuthConfig(t),await (0,$.AR)();let n="COGNITO";return"string"==typeof e?.provider?n=N[e.provider]:e?.provider?.custom&&(n=e.provider.custom),J({oauthConfig:t.loginWith.oauth,clientId:t.userPoolClientId,provider:n,customState:e?.customState,preferPrivateSession:e?.options?.preferPrivateSession,options:{loginHint:e?.options?.loginHint,lang:e?.options?.lang,nonce:e?.options?.nonce}})}let J=async({oauthConfig:e,provider:t,clientId:n,customState:o,preferPrivateSession:i,options:a})=>{let{domain:l,redirectSignIn:c,responseType:g,scopes:p}=e,{loginHint:h,lang:f,nonce:m}=a??{},w=W(),y=o?`${w}-${o.split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join("")}`:w,{value:A,method:C,toCodeChallenge:S}=V(128),U=(0,P.M)(e.redirectSignIn);(0,r.B)()&&u.f.storeOAuthInFlight(!0),u.f.storeOAuthState(y),u.f.storePKCE(A);let O=Object.entries({redirect_uri:U,response_type:g,client_id:n,identity_provider:t,scope:p.join(" "),...h&&{login_hint:h},...f&&{lang:f},...m&&{nonce:m},state:y,..."code"===g&&{code_challenge:S(),code_challenge_method:C}}).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&"),E=`https://${l}/oauth2/authorize?${O}`;z(u.f);let{type:T,error:_,url:M}=await (0,D.z)(E)??{};try{if("error"===T)throw v(String(_));"success"===T&&M&&await I({currentUrl:M,clientId:n,domain:l,redirectUri:U,responseType:g,userAgentValue:(0,d.A)(s.BM.SignInWithRedirect),preferPrivateSession:i})}catch(e){throw await b(e),e}}},27755:(e,t,n)=>{n.d(t,{x:()=>y});var o=n(87970),i=n(45103),a=n(27593),r=n(36642),s=n(11600),l=n(88726),d=n(59262),u=n(63702),c=n(90808),g=n(55413),p=n(2242),h=n(41811),f=n(83854);let m=e=>(0,c.A)(g.e,(0,p._)("ForgotPassword"),(0,h.T)(),{...f.C,...e});var w=n(32712);async function y(e){let{username:t}=e;(0,s.M)(!!t,r.P.EmptyResetPasswordUsername);let n=o.H.getConfig().Auth?.Cognito;(0,i.$y)(n);let{userPoolClientId:c,userPoolId:g,userPoolEndpoint:p}=n,h=e.options?.clientMetadata,f=(0,u.d)({username:t,userPoolId:g,userPoolClientId:c}),y=m({endpointResolver:(0,w.o)({endpointOverride:p})}),A=(await y({region:(0,l.J)(g),userAgentValue:(0,d.A)(a.BM.ResetPassword)},{Username:t,ClientMetadata:h,ClientId:c,UserContextData:f})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:"CONFIRM_RESET_PASSWORD_WITH_CODE",codeDeliveryDetails:{deliveryMedium:A?.DeliveryMedium,destination:A?.Destination,attributeName:A?.AttributeName}}}}},35030:(e,t,n)=>{n.d(t,{x:()=>f});var o=n(87970),i=n(24818),a=n(45103),r=n(27593),s=n(63061),l=n(38539),d=n(65978),u=n(88726),c=n(84295),g=n(59262),p=n(36264),h=n(32712);async function f(){let e=o.H.getConfig().Auth?.Cognito;(0,a.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:f}=await (0,i.$)({forceRefresh:!1});(0,c.H0)(f);let m=f.idToken?.payload["cognito:username"]??"",w=(0,p.i)({endpointResolver:(0,h.o)({endpointOverride:t})}),{SecretCode:y}=await w({region:(0,u.J)(n),userAgentValue:(0,g.A)(r.BM.SetUpTOTP)},{AccessToken:f.accessToken.toString()});if(!y)throw new s.l({name:l.Cw,message:"Failed to set up TOTP."});return(0,d.be)(y,JSON.stringify(m))}},35220:(e,t,n)=>{n.d(t,{c:()=>w});var o=n(87970),i=n(24818),a=n(45103),r=n(27593),s=n(84295),l=n(88726),d=n(59262),u=n(90808),c=n(55413),g=n(2242),p=n(41811),h=n(83854);let f=e=>(0,u.A)(c.e,(0,g._)("GetUserAttributeVerificationCode"),(0,p.T)(),{...h.C,...e});var m=n(32712);let w=async e=>{let{userAttributeKey:t,options:n}=e,u=o.H.getConfig().Auth?.Cognito,c=n?.clientMetadata;(0,a.$y)(u);let{userPoolEndpoint:g,userPoolId:p}=u,{tokens:h}=await (0,i.$)({forceRefresh:!1});(0,s.H0)(h);let w=f({endpointResolver:(0,m.o)({endpointOverride:g})}),{CodeDeliveryDetails:y}=await w({region:(0,l.J)(p),userAgentValue:(0,d.A)(r.BM.SendUserAttributeVerificationCode)},{AccessToken:h.accessToken.toString(),ClientMetadata:c,AttributeName:t}),{DeliveryMedium:A,AttributeName:C,Destination:S}={...y};return{destination:S,deliveryMedium:A,attributeName:C}}},54621:(e,t,n)=>{n.d(t,{z:()=>o});let o=async e=>{window?.location&&(window.location.href=e.replace("http://","https://"))}},55481:(e,t,n)=>{n.d(t,{z:()=>S});var o=n(87970),i=n(45103),a=n(27593),r=n(51148),s=n(11600),l=n(36642),d=n(88726),u=n(59262),c=n(63702),g=n(90808),p=n(83854),h=n(55413),f=n(2242),m=n(41811);let w=e=>(0,g.A)(h.e,(0,f._)("ConfirmSignUp"),(0,m.T)(),{...p.C,...e});var y=n(32712),A=n(1415),C=n(20499);async function S(e){let{username:t,confirmationCode:n,options:g}=e,p=o.H.getConfig().Auth?.Cognito;(0,i.$y)(p);let{userPoolId:h,userPoolClientId:f,userPoolEndpoint:m}=p,S=g?.clientMetadata;(0,s.M)(!!t,l.P.EmptyConfirmSignUpUsername),(0,s.M)(!!n,l.P.EmptyConfirmSignUpCode);let v=(0,c.d)({username:t,userPoolId:h,userPoolClientId:f}),U=w({endpointResolver:(0,y.o)({endpointOverride:m})}),{Session:I}=await U({region:(0,d.J)(p.userPoolId),userAgentValue:(0,u.A)(a.BM.ConfirmSignUp)},{Username:t,ConfirmationCode:n,ClientMetadata:S,ForceAliasCreation:g?.forceAliasCreation,ClientId:p.userPoolClientId,UserContextData:v});return new Promise((e,n)=>{try{let n={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},o=A.z.getState();if(!o.active||o.username!==t){e(n),(0,C.xO)();return}A.z.dispatch({type:"SET_SESSION",value:I});let i=r.f3.listen("auth-internal",({payload:t})=>{"autoSignIn"===t.event&&(e({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),i())});r.f3.dispatch("auth-internal",{event:"confirmSignUp",data:n})}catch(e){n(e)}})}},71194:(e,t,n)=>{n.d(t,{w:()=>A});var o=n(87970),i=n(24818),a=n(45103),r=n(27593),s=n(36642),l=n(11600),d=n(88726),u=n(84295),c=n(59262),g=n(90808),p=n(55413),h=n(2242),f=n(41811),m=n(83854);let w=e=>(0,g.A)(p.e,(0,h._)("VerifyUserAttribute"),(0,f.T)(),{...m.C,...e});var y=n(32712);async function A(e){let t=o.H.getConfig().Auth?.Cognito;(0,a.$y)(t);let{userPoolEndpoint:n,userPoolId:g}=t,{confirmationCode:p,userAttributeKey:h}=e;(0,l.M)(!!p,s.P.EmptyConfirmUserAttributeCode);let{tokens:f}=await (0,i.$)({forceRefresh:!1});(0,u.H0)(f);let m=w({endpointResolver:(0,y.o)({endpointOverride:n})});await m({region:(0,d.J)(g),userAgentValue:(0,c.A)(r.BM.ConfirmUserAttribute)},{AccessToken:f.accessToken.toString(),AttributeName:h,Code:p})}},80079:(e,t,n)=>{n.d(t,{P:()=>y});var o=n(87970),i=n(45103),a=n(27593),r=n(36642),s=n(11600),l=n(59262),d=n(63702),u=n(90808),c=n(55413),g=n(2242),p=n(41811),h=n(83854);let f=e=>(0,u.A)(c.e,(0,g._)("ConfirmForgotPassword"),(0,p.T)(),{...h.C,...e});var m=n(32712),w=n(88726);async function y(e){let t=o.H.getConfig().Auth?.Cognito;(0,i.$y)(t);let{userPoolClientId:n,userPoolId:u,userPoolEndpoint:c}=t,{username:g,newPassword:p}=e;(0,s.M)(!!g,r.P.EmptyConfirmResetPasswordUsername),(0,s.M)(!!p,r.P.EmptyConfirmResetPasswordNewPassword);let h=e.confirmationCode;(0,s.M)(!!h,r.P.EmptyConfirmResetPasswordConfirmationCode);let y=e.options?.clientMetadata,A=(0,d.d)({username:g,userPoolId:u,userPoolClientId:n}),C=f({endpointResolver:(0,m.o)({endpointOverride:c})});await C({region:(0,w.J)(t.userPoolId),userAgentValue:(0,l.A)(a.BM.ConfirmResetPassword)},{Username:g,ConfirmationCode:h,Password:p,ClientMetadata:y,ClientId:t.userPoolClientId,UserContextData:A})}},82354:(e,t,n)=>{n.d(t,{C:()=>P});var o=n(62904),i=n(87970),a=n(26829);function r(){return i.H.Auth.clearCredentials()}var s=n(51148),l=n(45103),d=n(27593),u=n(59262),c=n(63061),g=n(61433),p=n(84620),h=n(88726),f=n(84295);n(9296);let m=async e=>{await e.clearOAuthData(),p.o.clearTokens(),await r(),s.YZ.dispatch("auth",{event:"signedOut"},"Auth",s.U9)};var w=n(54621),y=n(99245);let A=async(e,t=!1,n)=>{(0,l.G6)(e);let{loginWith:o,userPoolClientId:i}=e,{domain:a,redirectSignOut:r}=o.oauth,s=(0,y.M)(r,n),d=`https://${a}/logout?${Object.entries({client_id:i,logout_uri:encodeURIComponent(s)}).map(([e,t])=>`${e}=${t}`).join("&")}`;return(0,w.z)(d)},C=async(e,t,n,o)=>{let{isOAuthSignIn:i}=await t.loadOAuthSignIn(),a=await n.getOAuthMetadata();if(await m(t),i||a?.oauthSignIn)return A(e,!1,o)};var S=n(89902),v=n(90808),U=n(55413),I=n(2242),O=n(41811),E=n(83854);let T=e=>(0,v.A)(U.e,(0,I._)("RevokeToken"),(0,O.T)(),{...E.C,...e}),_=e=>(0,v.A)(U.e,(0,I._)("GlobalSignOut"),(0,O.T)(),{...E.C,...e});var M=n(32712);let R=new o.C("Auth");async function P(e){let t,n=i.H.getConfig().Auth?.Cognito;(0,l.$y)(n),e?.global?await k(n):await b(n);try{(0,l.G6)(n),t=!0}catch(e){t=!1}if(t){let t=new g.S(a.ZL);t.setAuthConfig(n);let{type:o}=await C(n,t,p.o,e?.oauth?.redirectUrl)??{};if("error"===o)throw new c.l({name:S.mh,message:"An error occurred when attempting to log out from OAuth provider."})}else p.o.clearTokens(),await r(),s.YZ.dispatch("auth",{event:"signedOut"},"Auth",s.U9)}async function b(e){try{let{userPoolEndpoint:t,userPoolId:n,userPoolClientId:o}=e,i=await p.o.getTokenStore().loadTokens();if((0,f.X4)(i),N(i.accessToken)){let e=T({endpointResolver:(0,M.o)({endpointOverride:t})});await e({region:(0,h.J)(n),userAgentValue:(0,u.A)(d.BM.SignOut)},{ClientId:o,Token:i.refreshToken})}}catch(e){R.debug("Client signOut error caught but will proceed with token removal")}}async function k(e){try{let{userPoolEndpoint:t,userPoolId:n}=e,o=await p.o.getTokenStore().loadTokens();(0,f.H0)(o);let i=_({endpointResolver:(0,M.o)({endpointOverride:t})});await i({region:(0,h.J)(n),userAgentValue:(0,u.A)(d.BM.SignOut)},{AccessToken:o.accessToken.toString()})}catch(e){R.debug("Global signOut error caught but will proceed with token removal")}}let N=e=>!!e?.payload?.origin_jti},95027:(e,t,n)=>{n.d(t,{H:()=>D});var o=n(87970),i=n(45103),a=n(27593),r=n(11600),s=n(36642),l=n(88726),d=n(85565),u=n(51148),c=n(23639),g=n(63061),p=n(20499),h=n(89902),f=n(43024);function m(e,t){let n;return o=>{n||e(...o),clearTimeout(n),n=setTimeout(()=>{n=void 0},t)}}let w=m(function(e,t,n){let o=Date.now(),i=setInterval(async()=>{if(Date.now()-o>18e4)clearInterval(i),n(new g.l({name:h.A0,message:"The account was not confirmed on time.",recoverySuggestion:"Try to verify your account by clicking the link sent your email or phone and then login manually."})),(0,p.xO)();else try{let n=await (0,c.J)(e);"CONFIRM_SIGN_UP"!==n.nextStep.signInStep&&(t(n),clearInterval(i),(0,p.xO)())}catch(e){clearInterval(i),n(e),(0,p.xO)()}},5e3)},300),y=m(A,300);async function A(e,t,n){try{let n=e?.options?.authFlowType==="USER_AUTH"?await (0,f.k)(e):await (0,c.J)(e);t(n),(0,p.xO)()}catch(e){n(e),(0,p.xO)()}}function C(e){return async()=>new Promise((t,n)=>{y([e,t,n])})}var S=n(63702),v=n(59262),U=n(90808),I=n(40981),O=n(21149),E=n(52008),T=n(38539),_=n(2242),M=n(55413),R=n(83854);let P=()=>async e=>{if(e.statusCode>=300){let t=await (0,I.F)(e);if((0,E.e)(t),t.name===T.AU.InvalidParameterException&&/'password'/.test(t.message)&&/Member must not be null/.test(t.message)){let e=s.P.EmptySignUpPassword,{message:t,recoverySuggestion:n}=O.ut[e];throw new g.l({name:e,message:t,recoverySuggestion:n})}throw new g.l({name:t.name,message:t.message})}return(0,I.Y)(e)},b=e=>(0,U.A)(M.e,(0,_._)("SignUp"),P(),{...R.C,...e});var k=n(32712),N=n(1415);async function D(e){let{username:t,password:n,options:c}=e,g=o.H.getConfig().Auth?.Cognito,h=g?.signUpVerificationMethod??"code",{clientMetadata:f,validationData:m,autoSignIn:y}=e.options??{};(0,i.$y)(g),(0,r.M)(!!t,s.P.EmptySignUpUsername);let A="boolean"!=typeof y?y:void 0,U={username:t,options:A};A?.authFlowType!=="CUSTOM_WITHOUT_SRP"&&(U.password=n);let{userPoolId:I,userPoolClientId:O,userPoolEndpoint:E}=g,T=b({endpointResolver:(0,k.o)({endpointOverride:E})}),_={Username:t,Password:void 0,UserAttributes:c?.userAttributes&&(0,d.Q)(c?.userAttributes),ClientMetadata:f,ValidationData:m&&(0,d.Q)(m),ClientId:O,UserContextData:(0,S.d)({username:t,userPoolId:I,userPoolClientId:O})};n&&(_.Password=n);let{UserSub:M,CodeDeliveryDetails:R,UserConfirmed:P,Session:D}=await T({region:(0,l.J)(I),userAgentValue:(0,v.A)(a.BM.SignUp)},_);(A||!0===y)&&(N.z.dispatch({type:"START"}),N.z.dispatch({type:"SET_USERNAME",value:t}),N.z.dispatch({type:"SET_SESSION",value:D}));let $={destination:R?.Destination,deliveryMedium:R?.DeliveryMedium,attributeName:R?.AttributeName},F=N.z.getState().active;if(P)return F?((0,p.K$)(C(U)),{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:M}):{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:M};if(F){if("link"===h)return(0,p.K$)(async()=>new Promise((e,t)=>{w([U,e,t])})),{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:$},userId:M};let e=u.f3.listen("auth-internal",async({payload:t})=>{if("confirmSignUp"===t.event){let n=t.data;n?.isSignUpComplete&&(u.f3.dispatch("auth-internal",{event:"autoSignIn"}),(0,p.K$)(C(U)),e())}}),t=setTimeout(()=>{e(),clearTimeout(t),(0,p.xO)()},18e4)}return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:$},userId:M}}},97220:(e,t,n)=>{n.d(t,{h:()=>y});var o=n(87970),i=n(45103),a=n(27593),r=n(11600),s=n(36642),l=n(88726),d=n(59262),u=n(63702),c=n(90808),g=n(55413),p=n(2242),h=n(41811),f=n(83854);let m=e=>(0,c.A)(g.e,(0,p._)("ResendConfirmationCode"),(0,h.T)(),{...f.C,...e});var w=n(32712);async function y(e){let{username:t}=e;(0,r.M)(!!t,s.P.EmptySignUpUsername);let n=o.H.getConfig().Auth?.Cognito;(0,i.$y)(n);let{userPoolClientId:c,userPoolId:g,userPoolEndpoint:p}=n,h=e.options?.clientMetadata,f=(0,u.d)({username:t,userPoolId:g,userPoolClientId:c}),y=m({endpointResolver:(0,w.o)({endpointOverride:p})}),{CodeDeliveryDetails:A}=await y({region:(0,l.J)(n.userPoolId),userAgentValue:(0,d.A)(a.BM.ResendSignUpCode)},{Username:t,ClientMetadata:h,ClientId:n.userPoolClientId,UserContextData:f}),{DeliveryMedium:C,AttributeName:S,Destination:v}={...A};return{destination:v,deliveryMedium:C,attributeName:S||void 0}}},99245:(e,t,n)=>{n.d(t,{M:()=>i});var o=n(89902);function i(e,t){if(t){let n=e?.find(e=>e===t);if(!n)throw o.jK;return n}{let t=e?.find(a)??e?.find(r),n=e?.find(l)??e?.find(s);if(t)return t;if(n)throw o.$6;throw o.RW}}let a=e=>e.startsWith(String((window.location.origin+window.location.pathname)??"/")),r=e=>e.includes(String(window.location.hostname)),s=e=>e.startsWith("http://"),l=e=>e.startsWith("https://")}}]);