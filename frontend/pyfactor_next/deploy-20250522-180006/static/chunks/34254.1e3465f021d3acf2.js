"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34254],{34254:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(95155),l=s(12115),r=s(29729);let i=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),n=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),c=e=>"number"!=typeof e?"N/A":e.toFixed(2),d=e=>{let{name:t,data:s}=e,[r,d]=(0,l.useState)(!1);if(!s||"object"!=typeof s)return null;let x=s.total||(Array.isArray(s)?s.reduce((e,t)=>e+(t.amount||0),0):0),o=s.items||(Array.isArray(s)?s:[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-900",children:[(0,a.jsx)("button",{onClick:()=>d(!r),className:"p-1 mr-2 rounded-full hover:bg-gray-100 focus:outline-none",children:r?(0,a.jsx)(n,{}):(0,a.jsx)(i,{})}),t]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-900 text-right",children:["$",c(x)]})]}),o.length>0&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"px-0 py-0 ".concat(r?"":"hidden"),colSpan:2,children:(0,a.jsx)("div",{className:"transition-all duration-200 ease-in-out ".concat(r?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:(0,a.jsx)("div",{className:"m-4",children:(0,a.jsx)("table",{className:"min-w-full",children:(0,a.jsx)("tbody",{children:o.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,a.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700",children:e.name}),(0,a.jsxs)("td",{className:"px-4 py-2 text-sm text-gray-700 text-right",children:["$",c(e.amount)]})]},t))})})})})})})]})};function x(){let[e,t]=(0,l.useState)(null),[s,i]=(0,l.useState)(!0),[n,x]=(0,l.useState)(null);if((0,l.useEffect)(()=>{(async()=>{try{let e=await r.SP.get("/api/reports/cash-flow/");console.log("API Response:",e),e.data?t(e.data):x("Unexpected data format received")}catch(t){var e,s;console.error("Error fetching data:",t),x((null==(s=t.response)||null==(e=s.data)?void 0:e.error)||"An error occurred")}finally{i(!1)}})()},[]),s)return(0,a.jsx)("p",{className:"text-gray-600 p-4",children:"Loading..."});if(n)return(0,a.jsxs)("p",{className:"text-red-600 p-4",children:["Error: ",n]});if(!e)return(0,a.jsx)("p",{className:"text-gray-600 p-4",children:"No data available for the current date."});let o=e.Operating||{},m=e.Investing||{},h=e.Financing||{};return(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Cash Flow Statement"}),(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[(0,a.jsx)("tr",{className:"bg-gray-50",children:(0,a.jsx)("td",{colSpan:2,className:"px-6 py-3 text-sm font-semibold text-gray-700",children:"Operating Activities"})}),(0,a.jsx)(d,{name:"Operating Activities",data:o}),(0,a.jsx)("tr",{className:"bg-gray-50",children:(0,a.jsx)("td",{colSpan:2,className:"px-6 py-3 text-sm font-semibold text-gray-700",children:"Investing Activities"})}),(0,a.jsx)(d,{name:"Investing Activities",data:m}),(0,a.jsx)("tr",{className:"bg-gray-50",children:(0,a.jsx)("td",{colSpan:2,className:"px-6 py-3 text-sm font-semibold text-gray-700",children:"Financing Activities"})}),(0,a.jsx)(d,{name:"Financing Activities",data:h}),(0,a.jsxs)("tr",{className:"bg-blue-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:"Net Increase/Decrease in Cash"}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900 text-right",children:["$",c((o.total||0)+(m.total||0)+(h.total||0))]})]})]})]}),!1]})})}}}]);