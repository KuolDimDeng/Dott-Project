"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39146],{10557:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(70911),r=s(13980),l=s(47632);function d(e,t){(0,l.A)(2,arguments);var s=(0,r.A)(e),d=(0,a.A)(t);return isNaN(d)?new Date(NaN):(d&&s.setDate(s.getDate()+d),s)}},39146:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(95155),r=s(12115),l=s(43228),d=s(24818),i=s(29670),n=s(55166),o=s(68387),c=s(13980),m=s(70911),x=s(47632),u=s(29589);function p(e,t){(0,x.A)(1,arguments);var s,a,r,l,d,i,n,o,p=(0,u.q)(),h=(0,m.A)(null!=(s=null!=(a=null!=(r=null!=(l=null==t?void 0:t.weekStartsOn)?l:null==t||null==(d=t.locale)||null==(i=d.options)?void 0:i.weekStartsOn)?r:p.weekStartsOn)?a:null==(n=p.locale)||null==(o=n.options)?void 0:o.weekStartsOn)?s:0);if(!(h>=0&&h<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=(0,c.A)(e),g=y.getDay();return y.setDate(y.getDate()-(7*(g<h)+g-h)),y.setHours(0,0,0,0),y}var h=s(90306);function y(e,t){(0,x.A)(1,arguments);var s,a,r,l,d,i,n,o,p=(0,u.q)(),h=(0,m.A)(null!=(s=null!=(a=null!=(r=null!=(l=null==t?void 0:t.weekStartsOn)?l:null==t||null==(d=t.locale)||null==(i=d.options)?void 0:i.weekStartsOn)?r:p.weekStartsOn)?a:null==(n=p.locale)||null==(o=n.options)?void 0:o.weekStartsOn)?s:0);if(!(h>=0&&h<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=(0,c.A)(e),g=y.getDay();return y.setDate(y.getDate()+((g<h?-7:0)+6-(g-h))),y.setHours(23,59,59,999),y}var g=s(10557);let b=e=>{let{userData:t}=e,[s,d]=(0,r.useState)(0),[i,c]=(0,r.useState)(!1),[m,x]=(0,r.useState)([]),[u,b]=(0,r.useState)([]),[j,f]=(0,r.useState)(new Date),[v,N]=(0,r.useState)([]);(0,r.useEffect)(()=>{x([{id:"1",periodStart:"2023-05-01",periodEnd:"2023-05-07",status:"APPROVED",totalRegularHours:40,totalOvertimeHours:5,submittedAt:"2023-05-08"},{id:"2",periodStart:"2023-05-08",periodEnd:"2023-05-14",status:"SUBMITTED",totalRegularHours:40,totalOvertimeHours:2,submittedAt:"2023-05-15"},{id:"3",periodStart:"2023-05-15",periodEnd:"2023-05-21",status:"DRAFT",totalRegularHours:24,totalOvertimeHours:0}]),b([{id:"1",requestType:"PTO",startDate:"2023-06-01",endDate:"2023-06-05",status:"APPROVED",reason:"Vacation",submittedAt:"2023-05-10"},{id:"2",requestType:"SICK",startDate:"2023-05-03",endDate:"2023-05-03",status:"APPROVED",reason:"Doctor appointment",submittedAt:"2023-05-03"},{id:"3",requestType:"PTO",startDate:"2023-07-15",endDate:"2023-07-20",status:"PENDING",reason:"Family reunion",submittedAt:"2023-05-20"}]),N([{id:"1",name:"New Year's Day",date:"2023-01-01",paid:!0},{id:"2",name:"Memorial Day",date:"2023-05-29",paid:!0},{id:"3",name:"Independence Day",date:"2023-07-04",paid:!0},{id:"4",name:"Labor Day",date:"2023-09-04",paid:!0},{id:"5",name:"Thanksgiving Day",date:"2023-11-23",paid:!0},{id:"6",name:"Day after Thanksgiving",date:"2023-11-24",paid:!0},{id:"7",name:"Christmas Eve",date:"2023-12-24",paid:!0},{id:"8",name:"Christmas Day",date:"2023-12-25",paid:!0}])},[]);let[w,k]=(0,r.useState)(()=>{let e=p(new Date,{weekStartsOn:1});return{startDate:(0,h.A)(e,"yyyy-MM-dd"),endDate:(0,h.A)(y(e,{weekStartsOn:1}),"yyyy-MM-dd"),entries:Array(7).fill().map((t,s)=>({date:(0,h.A)((0,g.A)(e,s),"yyyy-MM-dd"),regularHours:8,overtimeHours:0,notes:""})),notes:""}}),[D,S]=(0,r.useState)({requestType:"PTO",startDate:(0,h.A)(new Date,"yyyy-MM-dd"),endDate:(0,h.A)(new Date,"yyyy-MM-dd"),reason:""}),T=(e,t,s)=>{let a=[...w.entries];a[e]=(0,o._)((0,n._)({},a[e]),{[t]:s}),k((0,o._)((0,n._)({},w),{entries:a}))},A=e=>{let t=new Date(e);return(0,h.A)(t,"MMM dd, yyyy")},H=e=>{let{status:t}=e,s="bg-gray-100 text-gray-800";return"APPROVED"===t?s="bg-green-100 text-green-800":"SUBMITTED"===t||"PENDING"===t?s="bg-blue-100 text-blue-800":"REJECTED"===t&&(s="bg-red-100 text-red-800"),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(s),children:t.charAt(0)+t.slice(1).toLowerCase()})};return(0,a.jsx)("div",{children:(0,a.jsxs)(l.oz.Group,{selectedIndex:s,onChange:d,children:[(0,a.jsxs)(l.oz.List,{className:"flex border-b border-gray-200",children:[(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n              py-3 px-5 text-sm font-medium outline-none whitespace-nowrap\n              ".concat(t?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n            ")},children:"Submit Hours"}),(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n              py-3 px-5 text-sm font-medium outline-none whitespace-nowrap\n              ".concat(t?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n            ")},children:"Time Off Requests"}),(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n              py-3 px-5 text-sm font-medium outline-none whitespace-nowrap\n              ".concat(t?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n            ")},children:"Calendar"})]}),(0,a.jsxs)(l.oz.Panels,{className:"mt-4",children:[(0,a.jsx)(l.oz.Panel,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Submit Timesheet"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:(0,a.jsxs)("p",{children:["Record your hours for the week of ",A(w.startDate)," to ",A(w.endDate)]})}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c(!0);let t=w.entries.reduce((e,t)=>e+Number(t.regularHours||0),0),s=w.entries.reduce((e,t)=>e+Number(t.overtimeHours||0),0);console.log("Submitting timesheet:",(0,o._)((0,n._)({},w),{totalRegularHours:t,totalOvertimeHours:s})),setTimeout(()=>{let e={id:String(m.length+1),periodStart:w.startDate,periodEnd:w.endDate,status:"SUBMITTED",totalRegularHours:t,totalOvertimeHours:s,submittedAt:(0,h.A)(new Date,"yyyy-MM-dd")};x([...m,e]),c(!1);let a=p(new Date,{weekStartsOn:1});k({startDate:(0,h.A)(a,"yyyy-MM-dd"),endDate:(0,h.A)(y(a,{weekStartsOn:1}),"yyyy-MM-dd"),entries:Array(7).fill().map((e,t)=>({date:(0,h.A)((0,g.A)(a,t),"yyyy-MM-dd"),regularHours:8,overtimeHours:0,notes:""})),notes:""}),alert("Timesheet submitted successfully!")},1e3)},className:"mt-5",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Day"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Regular Hours"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overtime Hours"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.entries.map((e,t)=>{let s=new Date(e.date);return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,h.A)(s,"EEEE")}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,h.A)(s,"MMM dd, yyyy")}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)("input",{type:"number",min:"0",max:"24",step:"0.5",value:e.regularHours,onChange:e=>T(t,"regularHours",e.target.value),className:"border border-gray-300 rounded-md p-2 w-20"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)("input",{type:"number",min:"0",max:"24",step:"0.5",value:e.overtimeHours,onChange:e=>T(t,"overtimeHours",e.target.value),className:"border border-gray-300 rounded-md p-2 w-20"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)("input",{type:"text",value:e.notes,onChange:e=>T(t,"notes",e.target.value),className:"border border-gray-300 rounded-md p-2 w-full",placeholder:"Optional notes"})})]},e.date)})})]})}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Additional Notes"}),(0,a.jsx)("textarea",{id:"notes",rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Any additional information...",value:w.notes,onChange:e=>k((0,o._)((0,n._)({},w),{notes:e.target.value}))})]}),(0,a.jsx)("div",{className:"mt-5 flex justify-end",children:(0,a.jsx)("button",{type:"submit",disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:i?"Submitting...":"Submit Timesheet"})})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Previous Timesheets"}),(0,a.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Regular Hours"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overtime Hours"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.length>0?m.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[A(e.periodStart)," - ",A(e.periodEnd)]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.totalRegularHours}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.totalOvertimeHours}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.submittedAt?A(e.submittedAt):"Not submitted"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(H,{status:e.status})})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"5",className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:"No timesheets found"})})})]})})]})})]})}),(0,a.jsx)(l.oz.Panel,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Request Time Off"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c(!0),console.log("Submitting time off request:",D),setTimeout(()=>{let e=(0,o._)((0,n._)({id:String(u.length+1)},D),{status:"PENDING",submittedAt:(0,h.A)(new Date,"yyyy-MM-dd")});b([...u,e]),c(!1),S({requestType:"PTO",startDate:(0,h.A)(new Date,"yyyy-MM-dd"),endDate:(0,h.A)(new Date,"yyyy-MM-dd"),reason:""}),alert("Time off request submitted successfully!")},1e3)},className:"mt-5 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"request-type",className:"block text-sm font-medium text-gray-700",children:"Request Type"}),(0,a.jsxs)("select",{id:"request-type",value:D.requestType,onChange:e=>S((0,o._)((0,n._)({},D),{requestType:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:[(0,a.jsx)("option",{value:"PTO",children:"Paid Time Off (PTO)"}),(0,a.jsx)("option",{value:"SICK",children:"Sick Leave"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),(0,a.jsx)("input",{type:"date",id:"start-date",value:D.startDate,onChange:e=>S((0,o._)((0,n._)({},D),{startDate:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700",children:"End Date"}),(0,a.jsx)("input",{type:"date",id:"end-date",value:D.endDate,onChange:e=>S((0,o._)((0,n._)({},D),{endDate:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700",children:"Reason"}),(0,a.jsx)("textarea",{id:"reason",rows:"3",value:D.reason,onChange:e=>S((0,o._)((0,n._)({},D),{reason:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Please provide a reason for your request",required:!0})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"submit",disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:i?"Submitting...":"Submit Request"})})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Your Time Off Requests"}),(0,a.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length>0?u.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"PTO"===e.requestType?"Paid Time Off":"Sick Leave"}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[A(e.startDate)," ",e.startDate!==e.endDate&&"- ".concat(A(e.endDate))]}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:e.reason}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(e.submittedAt)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(H,{status:e.status})})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"5",className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:"No time off requests found"})})})]})})]})})]})}),(0,a.jsx)(l.oz.Panel,{children:(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Time Off Calendar - ",(0,h.A)(j,"yyyy")]}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"View your PTO, sick leave, and company holidays for the current year."}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap -mx-2 mb-4 text-sm",children:[(0,a.jsxs)("div",{className:"px-2 py-1 flex items-center",children:[(0,a.jsx)("span",{className:"w-3 h-3 bg-blue-500 rounded-full mr-1"}),(0,a.jsx)("span",{children:"PTO"})]}),(0,a.jsxs)("div",{className:"px-2 py-1 flex items-center",children:[(0,a.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-1"}),(0,a.jsx)("span",{children:"Sick Leave"})]}),(0,a.jsxs)("div",{className:"px-2 py-1 flex items-center",children:[(0,a.jsx)("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-1"}),(0,a.jsx)("span",{children:"Company Holidays"})]})]}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("p",{className:"text-lg font-semibold",children:"This will display a calendar with all time off events visually for the current year."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"In a real implementation, this would be a full calendar view showing all PTO, sick leave, and company holidays."})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("h4",{className:"font-medium text-gray-700 mb-2",children:["Company Holidays ",(0,h.A)(j,"yyyy")]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Holiday"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(e.date)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.paid?"Yes":"No"})]},e.id))})]})})]})]})]})})})]})]})})},j=e=>{let{userData:t,isOwner:s}=e,[d,i]=(0,r.useState)(0),[n,o]=(0,r.useState)(!0),[c,m]=(0,r.useState)([]),[x,u]=(0,r.useState)([]),[p,y]=(0,r.useState)([]),[g,b]=(0,r.useState)(null),[j,f]=(0,r.useState)(null),[v,N]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1),[D,S]=(0,r.useState)(!0);(0,r.useEffect)(()=>{y([{id:"1",firstName:"John",lastName:"Doe",email:"john.doe@example.com",department:"Engineering"},{id:"2",firstName:"Jane",lastName:"Smith",email:"jane.smith@example.com",department:"Marketing"},{id:"3",firstName:"Bob",lastName:"Johnson",email:"bob.johnson@example.com",department:"Finance"}]),m([{id:"1",employeeId:"1",employeeName:"John Doe",periodStart:"2023-05-15",periodEnd:"2023-05-21",submittedAt:"2023-05-22T09:30:00Z",totalRegularHours:40,totalOvertimeHours:5,status:"SUBMITTED",entries:[{date:"2023-05-15",regularHours:8,overtimeHours:1,notes:"Project A"},{date:"2023-05-16",regularHours:8,overtimeHours:0,notes:"Project B"},{date:"2023-05-17",regularHours:8,overtimeHours:2,notes:"Project A"},{date:"2023-05-18",regularHours:8,overtimeHours:0,notes:"Project C"},{date:"2023-05-19",regularHours:8,overtimeHours:2,notes:"Project A"},{date:"2023-05-20",regularHours:0,overtimeHours:0,notes:""},{date:"2023-05-21",regularHours:0,overtimeHours:0,notes:""}]},{id:"2",employeeId:"2",employeeName:"Jane Smith",periodStart:"2023-05-15",periodEnd:"2023-05-21",submittedAt:"2023-05-22T10:15:00Z",totalRegularHours:40,totalOvertimeHours:0,status:"SUBMITTED",entries:[{date:"2023-05-15",regularHours:8,overtimeHours:0,notes:"Marketing campaign"},{date:"2023-05-16",regularHours:8,overtimeHours:0,notes:"Team meeting"},{date:"2023-05-17",regularHours:8,overtimeHours:0,notes:"Content creation"},{date:"2023-05-18",regularHours:8,overtimeHours:0,notes:"Social media"},{date:"2023-05-19",regularHours:8,overtimeHours:0,notes:"Analytics"},{date:"2023-05-20",regularHours:0,overtimeHours:0,notes:""},{date:"2023-05-21",regularHours:0,overtimeHours:0,notes:""}]}]),u([{id:"1",employeeId:"1",employeeName:"John Doe",requestType:"PTO",startDate:"2023-06-15",endDate:"2023-06-20",reason:"Family vacation",submittedAt:"2023-05-20T14:30:00Z",status:"PENDING"},{id:"2",employeeId:"3",employeeName:"Bob Johnson",requestType:"SICK",startDate:"2023-05-25",endDate:"2023-05-25",reason:"Doctor appointment",submittedAt:"2023-05-22T09:15:00Z",status:"PENDING"}]),o(!1)},[]);let T=e=>{let t=new Date(e);return(0,h.A)(t,"MMM dd, yyyy")},A=e=>{let t=new Date(e);return(0,h.A)(t,"MMM dd, yyyy h:mm a")},H=e=>{o(!0),console.log("Approving timesheet ".concat(e)),setTimeout(()=>{m(c.filter(t=>t.id!==e)),o(!1),alert("Timesheet approved successfully")},1e3)},P=e=>{b(e),N(""),S(!0),k(!0)},O=e=>{o(!0),console.log("Approving time off request ".concat(e)),setTimeout(()=>{u(x.filter(t=>t.id!==e)),o(!1),alert("Time off request approved successfully")},1e3)},M=e=>{f(e),N(""),S(!1),k(!0)},C=e=>{b(e)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.oz.Group,{selectedIndex:d,onChange:i,children:[(0,a.jsxs)(l.oz.List,{className:"flex border-b border-gray-200",children:[(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n              py-3 px-5 text-sm font-medium outline-none whitespace-nowrap\n              ".concat(t?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n            ")},children:"Pending Timesheets"}),(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n              py-3 px-5 text-sm font-medium outline-none whitespace-nowrap\n              ".concat(t?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n            ")},children:"Time Off Requests"})]}),(0,a.jsxs)(l.oz.Panels,{className:"mt-4",children:[(0,a.jsx)(l.oz.Panel,{children:n?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):g?(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Timesheet Details: ",g.employeeName]}),(0,a.jsx)("button",{onClick:()=>b(null),className:"text-gray-500 hover:text-gray-700",children:"Back to List"})]}),(0,a.jsxs)("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Period"}),(0,a.jsxs)("p",{className:"mt-1",children:[T(g.periodStart)," - ",T(g.periodEnd)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Submitted"}),(0,a.jsx)("p",{className:"mt-1",children:A(g.submittedAt)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Hours"}),(0,a.jsxs)("p",{className:"mt-1",children:["Regular: ",g.totalRegularHours,", Overtime: ",g.totalOvertimeHours]})]})]}),(0,a.jsx)("div",{className:"mt-6 overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Regular Hours"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overtime Hours"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.entries.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T(e.date)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.regularHours}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.overtimeHours}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.notes})]},e.date))})]})}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>P(g),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none",disabled:n,children:"Reject"}),(0,a.jsx)("button",{onClick:()=>H(g.id),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none",disabled:n,children:"Approve"})]})]})}):c.length>0?(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pending Timesheet Approvals"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hours (Reg/OT)"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.employeeName}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[T(e.periodStart)," - ",T(e.periodEnd)]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.totalRegularHours," / ",e.totalOvertimeHours]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(e.submittedAt)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>C(e),className:"text-blue-600 hover:text-blue-800",children:"View"}),(0,a.jsx)("button",{onClick:()=>P(e),className:"text-red-600 hover:text-red-800",disabled:n,children:"Reject"}),(0,a.jsx)("button",{onClick:()=>H(e.id),className:"text-green-600 hover:text-green-800",disabled:n,children:"Approve"})]})})]},e.id))})]})})]})}):(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No pending timesheets found."})})}),(0,a.jsx)(l.oz.Panel,{children:n?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):x.length>0?(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pending Time Off Requests"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.employeeName}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"PTO"===e.requestType?"Paid Time Off":"Sick Leave"}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[T(e.startDate)," ",e.startDate!==e.endDate&&"- ".concat(T(e.endDate))]}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:e.reason}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(e.submittedAt)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>M(e),className:"text-red-600 hover:text-red-800",disabled:n,children:"Reject"}),(0,a.jsx)("button",{onClick:()=>O(e.id),className:"text-green-600 hover:text-green-800",disabled:n,children:"Approve"})]})})]},e.id))})]})})]})}):(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No pending time off requests found."})})})]})]}),w&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full mx-4 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Reject ",D?"Timesheet":"Time Off Request"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"rejection-reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Rejection"}),(0,a.jsx)("textarea",{id:"rejection-reason",rows:"4",value:v,onChange:e=>N(e.target.value),className:"w-full border border-gray-300 rounded-md p-2",placeholder:"Please provide a reason for rejection..."})]}),(0,a.jsxs)("div",{className:"mt-5 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{onClick:D?()=>{if(!v.trim())return void alert("Please provide a reason for rejection");o(!0),k(!1),console.log("Rejecting timesheet ".concat(g.id," with reason: ").concat(v)),setTimeout(()=>{m(c.filter(e=>e.id!==g.id)),b(null),N(""),o(!1),alert("Timesheet rejected successfully")},1e3)}:()=>{if(!v.trim())return void alert("Please provide a reason for rejection");o(!0),k(!1),console.log("Rejecting time off request ".concat(j.id," with reason: ").concat(v)),setTimeout(()=>{u(x.filter(e=>e.id!==j.id)),f(null),N(""),o(!1),alert("Time off request rejected successfully")},1e3)},className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:"Reject"})]})]})})]})},f=e=>{let{userData:t}=e,[s,d]=(0,r.useState)(0),[i,c]=(0,r.useState)(!0),[m,x]=(0,r.useState)(!1),[u,p]=(0,r.useState)({approvalFrequency:"WEEKLY",inputFrequency:"DAILY",allowOvertime:!0,overtimeRate:"1.5",requireManagerApproval:!0}),[y,g]=(0,r.useState)({defaultPTODays:10,defaultSickDays:5,tiers:[{id:"1",name:"Junior",ptoDays:5,sickDays:3},{id:"2",name:"Mid-Level",ptoDays:10,sickDays:5},{id:"3",name:"Senior",ptoDays:15,sickDays:7},{id:"4",name:"Manager",ptoDays:20,sickDays:10}]}),[b,j]=(0,r.useState)([{id:"1",name:"New Year's Day",date:"2023-01-01",paid:!0,recurring:!0},{id:"2",name:"Memorial Day",date:"2023-05-29",paid:!0,recurring:!0},{id:"3",name:"Independence Day",date:"2023-07-04",paid:!0,recurring:!0},{id:"4",name:"Labor Day",date:"2023-09-04",paid:!0,recurring:!0},{id:"5",name:"Thanksgiving Day",date:"2023-11-23",paid:!0,recurring:!0},{id:"6",name:"Day after Thanksgiving",date:"2023-11-24",paid:!0,recurring:!0},{id:"7",name:"Christmas Eve",date:"2023-12-24",paid:!0,recurring:!0},{id:"8",name:"Christmas Day",date:"2023-12-25",paid:!0,recurring:!0}]),[f,v]=(0,r.useState)({name:"",date:(0,h.A)(new Date,"yyyy-MM-dd"),paid:!0,recurring:!0}),[N,w]=(0,r.useState)({name:"",ptoDays:10,sickDays:5});(0,r.useEffect)(()=>{setTimeout(()=>{c(!1)},1e3)},[]);let k=(e,t)=>{p((0,o._)((0,n._)({},u),{[e]:t}))},D=(e,t)=>{g((0,o._)((0,n._)({},y),{[e]:t}))},S=(e,t,s)=>{g((0,o._)((0,n._)({},y),{tiers:y.tiers.map(a=>a.id===e?(0,o._)((0,n._)({},a),{[t]:s}):a)}))},T=e=>{g((0,o._)((0,n._)({},y),{tiers:y.tiers.filter(t=>t.id!==e)}))},A=e=>{j(b.filter(t=>t.id!==e))};return(0,a.jsx)("div",{children:i?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.oz.Group,{selectedIndex:s,onChange:d,children:[(0,a.jsxs)(l.oz.List,{className:"flex border-b border-gray-200",children:[(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n                  py-3 px-5 text-sm font-medium outline-none whitespace-nowrap\n                  ".concat(t?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                ")},children:"General Settings"}),(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n                  py-3 px-5 text-sm font-medium outline-none whitespace-nowrap\n                  ".concat(t?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                ")},children:"PTO & Sick Leave"}),(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n                  py-3 px-5 text-sm font-medium outline-none whitespace-nowrap\n                  ".concat(t?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                ")},children:"Company Holidays"})]}),(0,a.jsxs)(l.oz.Panels,{className:"mt-4",children:[(0,a.jsx)(l.oz.Panel,{children:(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Timesheet Settings"}),(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"approval-frequency",className:"block text-sm font-medium text-gray-700 mb-1",children:"Timesheet Approval Frequency"}),(0,a.jsxs)("select",{id:"approval-frequency",value:u.approvalFrequency,onChange:e=>k("approvalFrequency",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:[(0,a.jsx)("option",{value:"DAILY",children:"Daily"}),(0,a.jsx)("option",{value:"WEEKLY",children:"Weekly"}),(0,a.jsx)("option",{value:"BIWEEKLY",children:"Bi-Weekly"}),(0,a.jsx)("option",{value:"MONTHLY",children:"Monthly"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"input-frequency",className:"block text-sm font-medium text-gray-700 mb-1",children:"Timesheet Input Frequency"}),(0,a.jsxs)("select",{id:"input-frequency",value:u.inputFrequency,onChange:e=>k("inputFrequency",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:[(0,a.jsx)("option",{value:"DAILY",children:"Daily"}),(0,a.jsx)("option",{value:"WEEKLY",children:"Weekly"})]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"How often employees will input their hours."})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"allow-overtime",type:"checkbox",checked:u.allowOvertime,onChange:e=>k("allowOvertime",e.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"allow-overtime",className:"ml-2 block text-sm text-gray-700",children:"Allow overtime hours"})]}),u.allowOvertime&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"overtime-rate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Overtime Rate"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm w-full sm:w-1/3",children:[(0,a.jsx)("input",{type:"number",id:"overtime-rate",min:"1.0",step:"0.1",value:u.overtimeRate,onChange:e=>k("overtimeRate",e.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm p-2 pr-8",placeholder:"1.5"}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,a.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"x"})})]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Multiplier for overtime hours (e.g., 1.5 for time-and-a-half)"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"require-manager-approval",type:"checkbox",checked:u.requireManagerApproval,onChange:e=>k("requireManagerApproval",e.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"require-manager-approval",className:"ml-2 block text-sm text-gray-700",children:"Require manager approval for timesheets"})]})]})]})})}),(0,a.jsx)(l.oz.Panel,{children:(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"PTO & Sick Leave Settings"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"default-pto-days",className:"block text-sm font-medium text-gray-700 mb-1",children:"Default PTO Days per Year"}),(0,a.jsx)("input",{type:"number",id:"default-pto-days",min:"0",value:y.defaultPTODays,onChange:e=>D("defaultPTODays",parseInt(e.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Default PTO days for employees without a specific tier."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"default-sick-days",className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Sick Leave Days per Year"}),(0,a.jsx)("input",{type:"number",id:"default-sick-days",min:"0",value:y.defaultSickDays,onChange:e=>D("defaultSickDays",parseInt(e.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Default sick leave days for employees without a specific tier."})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"PTO Tiers"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Create different PTO and sick leave tiers for different types of employees."}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tier Name"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PTO Days"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sick Days"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.tiers.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,a.jsx)("input",{type:"text",value:e.name,onChange:t=>S(e.id,"name",t.target.value),className:"border border-gray-300 rounded-md p-2 w-full",placeholder:"Tier Name"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)("input",{type:"number",min:"0",value:e.ptoDays,onChange:t=>S(e.id,"ptoDays",parseInt(t.target.value)),className:"border border-gray-300 rounded-md p-2 w-20"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)("input",{type:"number",min:"0",value:e.sickDays,onChange:t=>S(e.id,"sickDays",parseInt(t.target.value)),className:"border border-gray-300 rounded-md p-2 w-20"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)("button",{onClick:()=>T(e.id),className:"text-red-600 hover:text-red-800",children:"Remove"})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"mt-4 bg-gray-50 p-4 rounded-md",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Add New Tier"}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!N.name.trim())return void alert("Please enter a tier name");g((0,o._)((0,n._)({},y),{tiers:[...y.tiers,(0,n._)({id:Date.now().toString()},N)]})),w({name:"",ptoDays:10,sickDays:5})},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"new-tier-name",className:"block text-xs font-medium text-gray-700 mb-1",children:"Tier Name"}),(0,a.jsx)("input",{type:"text",id:"new-tier-name",value:N.name,onChange:e=>w((0,o._)((0,n._)({},N),{name:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"e.g., Executive"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"new-tier-pto-days",className:"block text-xs font-medium text-gray-700 mb-1",children:"PTO Days"}),(0,a.jsx)("input",{type:"number",id:"new-tier-pto-days",min:"0",value:N.ptoDays,onChange:e=>w((0,o._)((0,n._)({},N),{ptoDays:parseInt(e.target.value)})),className:"block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"new-tier-sick-days",className:"block text-xs font-medium text-gray-700 mb-1",children:"Sick Days"}),(0,a.jsx)("input",{type:"number",id:"new-tier-sick-days",min:"0",value:N.sickDays,onChange:e=>w((0,o._)((0,n._)({},N),{sickDays:parseInt(e.target.value)})),className:"block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,a.jsx)("div",{className:"md:col-span-3",children:(0,a.jsx)("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:"Add Tier"})})]})]})]})]})]})})}),(0,a.jsx)(l.oz.Panel,{children:(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Company Holidays"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Holiday Name"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recurring Yearly"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,h.A)(new Date(e.date),"MMM dd, yyyy")}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)("input",{type:"checkbox",checked:e.paid,onChange:()=>{j(b.map(t=>t.id===e.id?(0,o._)((0,n._)({},t),{paid:!t.paid}):t))},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)("input",{type:"checkbox",checked:e.recurring,onChange:()=>{j(b.map(t=>t.id===e.id?(0,o._)((0,n._)({},t),{recurring:!t.recurring}):t))},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)("button",{onClick:()=>A(e.id),className:"text-red-600 hover:text-red-800",children:"Remove"})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"mt-4 bg-gray-50 p-4 rounded-md",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Add New Holiday"}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!f.name.trim())return void alert("Please enter a holiday name");j([...b,(0,n._)({id:Date.now().toString()},f)]),v({name:"",date:(0,h.A)(new Date,"yyyy-MM-dd"),paid:!0,recurring:!0})},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"new-holiday-name",className:"block text-xs font-medium text-gray-700 mb-1",children:"Holiday Name"}),(0,a.jsx)("input",{type:"text",id:"new-holiday-name",value:f.name,onChange:e=>v((0,o._)((0,n._)({},f),{name:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"e.g., President's Day"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"new-holiday-date",className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),(0,a.jsx)("input",{type:"date",id:"new-holiday-date",value:f.date,onChange:e=>v((0,o._)((0,n._)({},f),{date:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"new-holiday-paid",type:"checkbox",checked:f.paid,onChange:e=>v((0,o._)((0,n._)({},f),{paid:e.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"new-holiday-paid",className:"ml-2 block text-sm text-gray-700",children:"Paid Holiday"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"new-holiday-recurring",type:"checkbox",checked:f.recurring,onChange:e=>v((0,o._)((0,n._)({},f),{recurring:e.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"new-holiday-recurring",className:"ml-2 block text-sm text-gray-700",children:"Recurring Yearly"})]}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:"Add Holiday"})})]})]})]})})})]})]}),(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:(0,a.jsx)("button",{onClick:()=>{x(!0),console.log("Saving settings:",{generalSettings:u,ptoSettings:y,holidays:b}),setTimeout(()=>{x(!1),alert("Settings saved successfully")},1e3)},disabled:m,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none disabled:opacity-50",children:m?"Saving...":"Save All Settings"})})]})})},v=(0,r.memo)(()=>{let[e,t]=(0,r.useState)(0),[s,n]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null),[m,x]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[h,y]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{n(!0);let r=(0,i.gd)("user_data"),l=(0,i.gd)("user_role");if(r&&l){console.log("[TimesheetManagement] Using cached user data:",typeof l,l);let e="string"==typeof l?l:(null==l?void 0:l.toString)?l.toString():"",t=e.toLowerCase();x(t.includes("manager")||t.includes("admin")||"manager"===t||"admin"===t),p(t.includes("owner")||"owner"===t),c({id:r.id||r.sub,role:e}),n(!1);return}try{var e,t,s,a;let r=await (0,d.$)(),l=(null==r||null==(t=r.accessToken)||null==(e=t.payload)?void 0:e["custom:role"])||"",i=null==r||null==(a=r.accessToken)||null==(s=a.payload)?void 0:s.sub,n=l.toLowerCase();x(n.includes("manager")||n.includes("admin")||"manager"===n||"admin"===n),p(n.includes("owner")||"owner"===n),console.log("[TimesheetManagement] User role from session:",l,"isManager:",n.includes("manager")||n.includes("admin"),"isOwner:",n.includes("owner")||"owner"===n),c({id:i,role:l})}catch(e){console.error("[TimesheetManagement] Error fetching auth session:",e),x(!0),p(!0),c({id:"demo-user",role:"owner"})}}catch(e){console.error("[TimesheetManagement] Error fetching user data:",e),y("Unable to load user data"),x(!0),p(!0)}finally{n(!1)}})()},[]);let g=(0,r.useCallback)(e=>{t(e)},[]);return(console.log("[TimesheetManagement] Role detection:",{isManager:m,isOwner:u,userRole:null==o?void 0:o.role,roleType:(null==o?void 0:o.role)?typeof o.role:"undefined",roleLength:(null==o?void 0:o.role)?o.role.length:0}),m&&u||(console.log("[TimesheetManagement] Forcing all tabs to be visible for development"),x(!0),p(!0)),h)?(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 rounded-lg p-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Error Loading Timesheet Management"}),(0,a.jsx)("p",{children:h})]})}):(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Timesheet Management"}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,a.jsxs)(l.oz.Group,{selectedIndex:e,onChange:g,children:[(0,a.jsxs)(l.oz.List,{className:"flex border-b border-gray-200 bg-gray-50",children:[(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n                py-4 px-6 text-sm font-medium outline-none whitespace-nowrap\n                ".concat(t?"text-blue-600 border-b-2 border-blue-500 bg-white":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n              ")},children:"My Timesheet"}),(m||u)&&(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n                  py-4 px-6 text-sm font-medium outline-none whitespace-nowrap\n                  ".concat(t?"text-blue-600 border-b-2 border-blue-500 bg-white":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                ")},children:"Timesheet Admin"}),u&&(0,a.jsx)(l.oz,{className:e=>{let{selected:t}=e;return"\n                  py-4 px-6 text-sm font-medium outline-none whitespace-nowrap\n                  ".concat(t?"text-blue-600 border-b-2 border-blue-500 bg-white":"text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                ")},children:"Timesheet Settings"})]}),(0,a.jsxs)(l.oz.Panels,{className:"p-6",children:[(0,a.jsx)(l.oz.Panel,{children:s?(0,a.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500"})}):(0,a.jsx)(b,{userData:o})}),(m||u)&&(0,a.jsx)(l.oz.Panel,{children:s?(0,a.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500"})}):(0,a.jsx)(j,{userData:o,isOwner:u})}),u&&(0,a.jsx)(l.oz.Panel,{children:s?(0,a.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500"})}):(0,a.jsx)(f,{userData:o})})]})]})})]})})}}]);