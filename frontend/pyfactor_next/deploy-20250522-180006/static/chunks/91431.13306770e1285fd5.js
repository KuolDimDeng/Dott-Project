"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91431],{91431:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var r=t(95155),a=t(12115),l=t(29729);let d=e=>"number"==typeof e?e.toFixed(2):"N/A",n=e=>{let{name:s,data:t}=e,[l,n]=(0,a.useState)(!1),o=t&&t.total?t.total:0,i=t&&t.accounts?t.accounts:[];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("button",{type:"button",className:"inline-flex items-center focus:outline-none",onClick:()=>n(!l),children:[(0,r.jsx)("span",{className:"mr-2",children:l?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),s]})}),(0,r.jsxs)("td",{className:"px-6 py-4 text-right",children:["$",d(o)]})]}),(0,r.jsx)("tr",{className:l?"":"hidden",children:(0,r.jsx)("td",{colSpan:2,className:"bg-gray-50 px-0 py-0",children:(0,r.jsx)("div",{className:"transition-all duration-200 ease-in-out ".concat(l?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:(0,r.jsx)("table",{className:"min-w-full divide-y divide-gray-200",children:(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:i.map((e,s)=>(0,r.jsxs)("tr",{className:"bg-gray-50",children:[(0,r.jsx)("td",{className:"pl-12 pr-6 py-3 text-sm text-gray-600",children:e.name}),(0,r.jsxs)("td",{className:"px-6 py-3 text-right text-sm text-gray-600",children:["$",d(e.amount)]})]},s))})})})})})]})};function o(){let[e,s]=(0,a.useState)(null),[t,o]=(0,a.useState)(!0),[i,c]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{let e=await l.SP.get("/api/reports/profit-and-loss/");console.log("API Response:",e.data),s(e.data)}catch(s){var e,t;console.error("Error fetching data:",s.response||s),c((null==(t=s.response)||null==(e=t.data)?void 0:e.error)||s.message||"An error occurred")}finally{o(!1)}})()},[]),t)?(0,r.jsx)("p",{className:"text-lg text-center py-8",children:"Loading..."}):i?(0,r.jsxs)("p",{className:"text-lg text-center py-8 text-red-600",children:["Error: ",i]}):e?(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Profit and Loss Statement"})}),(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),(0,r.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.Revenue&&(0,r.jsx)(n,{name:"Revenue",data:e.Revenue}),e["Cost of Goods Sold"]&&(0,r.jsx)(n,{name:"Cost of Goods Sold",data:e["Cost of Goods Sold"]}),(0,r.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 font-medium",children:"Gross Profit"}),(0,r.jsxs)("td",{className:"px-6 py-4 text-right font-medium",children:["$",d(e["Gross Profit"])]})]}),e["Operating Expenses"]&&(0,r.jsx)(n,{name:"Operating Expenses",data:e["Operating Expenses"]}),(0,r.jsxs)("tr",{className:"border-b border-gray-200 bg-blue-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 font-bold",children:"Net Income"}),(0,r.jsxs)("td",{className:"px-6 py-4 text-right font-bold",children:["$",d(e["Net Income"])]})]})]})]}),(0,r.jsxs)("div",{className:"p-6 border-t border-gray-200",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Raw data for debugging:"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-xs overflow-auto max-h-60",children:JSON.stringify(e,null,2)})]})]})}):(0,r.jsx)("p",{className:"text-lg text-center py-8",children:"No data available for the current date."})}}}]);