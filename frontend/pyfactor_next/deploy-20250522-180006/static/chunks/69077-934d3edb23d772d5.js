"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69077],{12499:(e,n,r)=>{r.d(n,{FF:()=>u,LM:()=>a,yy:()=>c});var t=r(55166),s=r(68387),l=r(36465),i=r(95155),o=r(12115);function a(e){let{children:n}=e;return(0,i.jsx)("div",{className:"safe-context-wrapper",children:n})}function u(e){let n=(0,o.createContext)(e),r=n.Consumer;n.Consumer=function(e){var{children:n}=e,o=(0,l._)(e,["children"]);return"function"!=typeof n?(console.error("Context.Consumer expects a function as a child"),null):(0,i.jsx)(r,(0,s._)((0,t._)({},o),{children:n}))};let a=n.Provider;return n.Provider=function(e){var{value:n,children:r}=e,o=(0,l._)(e,["value","children"]);return(0,i.jsx)(a,(0,s._)((0,t._)({value:n},o),{children:r}))},n}function c(e){try{return(0,o.useContext)(e)}catch(n){return console.error("Error using context:",n),e._currentValue||{}}}},87449:(e,n,r)=>{r.d(n,{t:()=>p,d:()=>m});var t=r(95155),s=r(12115),l=r(12499),i=r(38637),o=r.n(i);function a(e){let{children:n,fallback:r=null,delay:i=0}=e,[o,a]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(i>0){let e=setTimeout(()=>{a(!0)},i);return()=>clearTimeout(e)}a(!0)},[i]),o)?"function"==typeof n?(0,t.jsx)(l.LM,{children:n()}):(0,t.jsx)(l.LM,{children:n}):r}a.propTypes={children:o().oneOfType([o().node,o().func]).isRequired,fallback:o().node,delay:o().number};let u=e=>{let{message:n,type:r}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-[300px]",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(r){case"success":return(0,t.jsx)("svg",{className:"w-5 h-5 text-success-main",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return(0,t.jsx)("svg",{className:"w-5 h-5 text-error-main",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"info":return(0,t.jsx)("svg",{className:"w-5 h-5 text-info-main",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9a1 1 0 00-1-1z",clipRule:"evenodd"})});case"warning":return(0,t.jsx)("svg",{className:"w-5 h-5 text-warning-main",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});default:return null}})()}),(0,t.jsx)("span",{className:"flex-1 text-sm",children:n})]})},c=(0,l.FF)(null),d=e=>{let{toasts:n,removeToast:r}=e;return n.length?(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 min-w-[300px]",children:n.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4 rounded-lg shadow-md\n            ".concat("success"===e.type?"bg-green-50 text-green-800 border border-green-200":"","\n            ").concat("error"===e.type?"bg-red-50 text-red-800 border border-red-200":"","\n            ").concat("info"===e.type?"bg-blue-50 text-blue-800 border border-blue-200":"","\n            ").concat("warning"===e.type?"bg-yellow-50 text-yellow-800 border border-yellow-200":"","\n            animate-fadeIn\n          "),children:[(0,t.jsx)(u,{message:e.message,type:e.type}),(0,t.jsx)("button",{onClick:()=>r(e.id),className:"ml-3 flex-shrink-0 text-gray-400 hover:text-gray-700 focus:outline-none","aria-label":"Close notification",children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},e.id))}):null};function p(e){let{children:n}=e,[r,l]=(0,s.useState)([]),i=(0,s.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,t=Math.random().toString(36).substring(2,9);return l(r=>[...r,{id:t,message:e,type:n}]),null!==r&&setTimeout(()=>{o(t)},r),t},[]),o=(0,s.useCallback)(e=>{l(n=>n.filter(n=>n.id!==e))},[]),u=s.useMemo(()=>({info:(e,n)=>i(e,"info",n),success:(e,n)=>i(e,"success",n),warning:(e,n)=>i(e,"warning",n),error:(e,n)=>i(e,"error",n)}),[i]);return(0,t.jsx)(c.Provider,{value:u,children:(0,t.jsx)(a,{children:(0,t.jsxs)(s.Fragment,{children:[n,(0,t.jsx)(d,{toasts:r,removeToast:o})]})})})}function m(){let e=(0,l.yy)(c);if(!e)throw Error("useToast must be used within a ToastProvider");return e}},98029:(e,n,r)=>{r.d(n,{kd:()=>a});var t=r(29225);r(42749);let s=t.z.object({businessName:t.z.string().min(1,"Business name is required"),industry:t.z.string().min(1,"Industry is required"),country:t.z.string().min(1,"Country is required"),legalStructure:t.z.string().min(1,"Legal structure is required"),dateFounded:t.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date format").optional().nullable(),firstName:t.z.string().min(1,"First name is required"),lastName:t.z.string().min(1,"Last name is required")}),l=t.z.object({selected_plan:t.z.enum(["free","professional"],{required_error:"Please select a plan"}),billingCycle:t.z.enum(["monthly","annual"]).optional()}),i=t.z.object({paymentMethod:t.z.string().min(1,"Payment method is required"),paymentCompleted:t.z.boolean(),paymentReference:t.z.string().optional()}),o=t.z.object({databaseProvisioned:t.z.boolean().optional(),setupCompleted:t.z.boolean().optional(),technicalSetup:t.z.boolean().optional()}),a={"business-info":{title:"Business Information",description:"Tell us about your business to get started",step:1,next:"subscription",previous:null,isPublic:!0,schema:s,validate:async e=>{try{return await s.parseAsync(e),{isValid:!0}}catch(e){return{isValid:!1,errors:e.errors}}}},subscription:{title:"Choose Your Plan",description:"Select the plan that best fits your needs",step:2,next:e=>(null==e?void 0:e.selected_plan)==="free"?"setup":"payment",previous:"business-info",isPublic:!1,schema:l,validate:async e=>{try{return await l.parseAsync(e),{isValid:!0}}catch(e){return{isValid:!1,errors:e.errors}}},canAccess:e=>{var n,r;return(null==e||null==(n=e.user)?void 0:n.onboarding)==="business-info"||(null==e||null==(r=e.user)?void 0:r.onboarding)==="subscription"}},payment:{title:"Payment Information",description:"Complete your payment to continue",step:3,next:"setup",previous:"subscription",isPublic:!1,schema:i,validate:async e=>{try{return await i.parseAsync(e),{isValid:!0}}catch(e){return{isValid:!1,errors:e.errors}}},canAccess:e=>{var n,r;return(null==e||null==(n=e.user)?void 0:n.selected_plan)==="professional"&&(null==e||null==(r=e.user)?void 0:r.onboarding)==="payment"}},setup:{title:"Account Setup",description:"Setting up your account",step:4,next:"complete",previous:e=>{var n;return(null==e||null==(n=e.user)?void 0:n.selected_plan)==="free"?"subscription":"payment"},isPublic:!1,schema:o,validate:async e=>{try{return await o.parseAsync(e),{isValid:!0}}catch(e){return{isValid:!1,errors:e.errors}}},canAccess:e=>{var n,r,t,s,l,i,o;return(null==e||null==(n=e.user)?void 0:n.selected_plan)==="free"?(null==e||null==(t=e.user)?void 0:t.onboarding)==="subscription"||(null==e||null==(s=e.user)?void 0:s.onboarding)==="setup":(null==e||null==(r=e.user)?void 0:r.selected_plan)==="professional"&&(null==e||null==(l=e.user)?void 0:l.paymentCompleted)&&((null==e||null==(i=e.user)?void 0:i.onboarding)==="payment"||(null==e||null==(o=e.user)?void 0:o.onboarding)==="setup")}},complete:{title:"Setup Complete",description:"Your account is ready",step:5,next:null,previous:"setup",isPublic:!1,validate:()=>({isValid:!0}),canAccess:e=>{var n;return(null==e||null==(n=e.user)?void 0:n.onboarding)==="complete"}}},u={BUSINESS_INFO:"business-info",SUBSCRIPTION:"subscription",PAYMENT:"payment",SETUP:"setup"};u.BUSINESS_INFO,u.SUBSCRIPTION,u.PAYMENT,u.SETUP}}]);