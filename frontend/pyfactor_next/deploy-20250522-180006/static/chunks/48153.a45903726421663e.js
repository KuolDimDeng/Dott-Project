"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48153],{48153:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(55166),r=s(68387),d=s(95155),n=s(12115),l=s(29729),o=s(87449),m=s(54740);let c=()=>{let[e,t]=(0,n.useState)(0),[s,c]=(0,n.useState)([]),[i,x]=(0,n.useState)(null),[u,p]=(0,n.useState)({vendor:"",date:null,category:"",amount:"",description:"",payment_method:""}),h=(0,o.d)();(0,n.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await l.SP.get("/api/expenses/");c(e.data)}catch(e){console.error("Error fetching expenses:",e),h.error("Failed to fetch expenses")}},b=e=>{t(e),x(null)},y=e=>{let{name:t,value:s}=e.target;p(e=>(0,r._)((0,a._)({},e),{[t]:s}))},f=async e=>{e.preventDefault();try{await l.SP.post("/api/expenses/create/",u),h.success("Expense created successfully"),g(),t(2)}catch(e){console.error("Error creating expense:",e),h.error("Failed to create expense")}},j=e=>{x(e),t(1)};return(0,d.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,d.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Expense Management"}),(0,d.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,d.jsxs)("nav",{className:"flex -mb-px",children:[(0,d.jsx)("button",{onClick:()=>b(0),className:"py-4 px-6 text-center border-b-2 font-medium text-sm transition-colors duration-200 ease-in-out focus:outline-none ".concat(0===e?"text-blue-600 border-blue-600 bg-blue-50":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"),children:"Create Expense"}),(0,d.jsx)("button",{onClick:()=>b(1),className:"py-4 px-6 text-center border-b-2 font-medium text-sm transition-colors duration-200 ease-in-out focus:outline-none ".concat(1===e?"text-blue-600 border-blue-600 bg-blue-50":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"),children:"Expense Detail"}),(0,d.jsx)("button",{onClick:()=>b(2),className:"py-4 px-6 text-center border-b-2 font-medium text-sm transition-colors duration-200 ease-in-out focus:outline-none ".concat(2===e?"text-blue-600 border-blue-600 bg-blue-50":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"),children:"Expense List"})]})}),0===e&&(0,d.jsxs)("form",{onSubmit:f,className:"mt-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"vendor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor"}),(0,d.jsx)("input",{type:"text",id:"vendor",name:"vendor",value:u.vendor,onChange:y,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm py-2 px-3 border"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,d.jsx)(m.A,{selected:u.date,onChange:e=>{p(t=>(0,r._)((0,a._)({},t),{date:e}))},className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm py-2 px-3 border"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,d.jsx)("input",{type:"text",id:"category",name:"category",value:u.category,onChange:y,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm py-2 px-3 border"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),(0,d.jsx)("input",{type:"number",id:"amount",name:"amount",value:u.amount,onChange:y,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm py-2 px-3 border"})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,d.jsx)("textarea",{id:"description",name:"description",rows:"4",value:u.description,onChange:y,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm py-2 px-3 border"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"payment_method",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),(0,d.jsxs)("select",{id:"payment_method",name:"payment_method",value:u.payment_method,onChange:y,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm py-2 px-3 border",children:[(0,d.jsx)("option",{value:"",children:"Select a payment method"}),(0,d.jsx)("option",{value:"cash",children:"Cash"}),(0,d.jsx)("option",{value:"credit_card",children:"Credit Card"}),(0,d.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),(0,d.jsx)("button",{type:"submit",className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Create Expense"})]}),1===e&&i&&(0,d.jsxs)("div",{className:"mt-6 bg-white shadow overflow-hidden rounded-lg",children:[(0,d.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,d.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Expense Details"})}),(0,d.jsx)("div",{className:"border-t border-gray-200",children:(0,d.jsxs)("dl",{children:[(0,d.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Vendor"}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:i.vendor})]}),(0,d.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Date"}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:new Date(i.date).toLocaleDateString()})]}),(0,d.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Category"}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:i.category})]}),(0,d.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Amount"}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:i.amount})]}),(0,d.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:i.description})]}),(0,d.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Payment Method"}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:i.payment_method})]})]})})]}),2===e&&(0,d.jsx)("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.vendor}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.category}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.amount}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,d.jsx)("button",{onClick:()=>j(e),className:"text-blue-600 hover:text-blue-900 focus:outline-none focus:underline",children:"View Details"})})]},e.id))})]})})})]})}},54740:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(95155),r=s(12115);function d(e){let[t,s]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s(!0)},[]);let{selected:d,onChange:n,placeholderText:l="Select a date...",className:o=""}=e,m=d?new Date(d).toLocaleDateString():l;return(0,a.jsx)("div",{className:"datepicker-stub ".concat(o),children:(0,a.jsx)("div",{className:"w-full h-9 border border-gray-300 rounded-md bg-gray-50 px-3 py-2 text-gray-700",onClick:()=>n&&n(new Date),children:m})})}}}]);