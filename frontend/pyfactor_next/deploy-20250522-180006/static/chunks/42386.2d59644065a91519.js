"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42386],{42386:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var n=a(55166),c=a(68387),s=a(95155),i=a(12115),o=a(29729);let l=()=>{let[e,t]=(0,i.useState)([]),[a,l]=(0,i.useState)(!1),[r,d]=(0,i.useState)({bank_account:"",reconciliation_date:null,statement_balance:"",book_balance:""});(0,i.useEffect)(()=>{x()},[]);let x=async()=>{l(!0);try{let e=await o.SP.get("/api/finance/reconciliations/");t(e.data)}catch(e){console.error("Failed to fetch reconciliations",e)}l(!1)},m=e=>{let{name:t,value:a}=e.target;d((0,c._)((0,n._)({},r),{[t]:a}))},u=async e=>{e.preventDefault();try{await o.SP.post("/api/finance/reconciliations/",r),console.log("Reconciliation created successfully"),d({bank_account:"",reconciliation_date:null,statement_balance:"",book_balance:""}),x()}catch(e){console.error("Failed to create reconciliation",e)}},p=e=>{console.info("Reconciliation feature not implemented yet")};return(0,s.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Account Reconciliation"}),(0,s.jsxs)("form",{onSubmit:u,className:"mb-6 bg-white p-4 rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"bank_account",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Account ID"}),(0,s.jsx)("input",{id:"bank_account",name:"bank_account",type:"text",className:"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:r.bank_account,onChange:m,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"reconciliation_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reconciliation Date"}),(0,s.jsx)("input",{id:"reconciliation_date",name:"reconciliation_date",type:"date",className:"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:r.reconciliation_date||"",onChange:e=>{d((0,c._)((0,n._)({},r),{reconciliation_date:e.target.value}))},required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"statement_balance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Statement Balance"}),(0,s.jsx)("input",{id:"statement_balance",name:"statement_balance",type:"number",step:"0.01",className:"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:r.statement_balance,onChange:m,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"book_balance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Book Balance"}),(0,s.jsx)("input",{id:"book_balance",name:"book_balance",type:"number",step:"0.01",className:"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:r.book_balance,onChange:m,required:!0})]})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Create Reconciliation"})})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bank Account"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reconciliation Date"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statement Balance"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Book Balance"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"px-6 py-4 text-center",children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})})})}):0===e.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No reconciliations found"})}):e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.bank_account.account_number}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.reconciliation_date}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.statement_balance}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.book_balance}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.is_reconciled?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.is_reconciled?"Reconciled":"Pending"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,s.jsx)("button",{onClick:()=>p(e.id),className:"text-indigo-600 hover:text-indigo-900",children:"Reconcile"})})]},e.id))})]})})})]})}}}]);