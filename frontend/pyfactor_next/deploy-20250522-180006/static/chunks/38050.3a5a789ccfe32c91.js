"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38050],{38050:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var a=t(55166),s=t(68387),n=t(95155),i=t(12115),o=t(29729);let d=e=>{let{newVendor:r=!1}=e,[t,d]=(0,i.useState)(2*!r),[c,m]=(0,i.useState)([]),[l,x]=(0,i.useState)(null),[p,h]=(0,i.useState)({vendor_name:"",street:"",postcode:"",city:"",state:"",phone:""});(0,i.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=await o.SP.get("/api/vendors/");m(Array.isArray(e.data)?e.data:[])}catch(e){console.error("Error fetching vendors:",e),m([])}},u=e=>{d(e),x(null)},g=e=>{let{name:r,value:t}=e.target;h(e=>(0,s._)((0,a._)({},e),{[r]:t}))},f=async e=>{e.preventDefault();try{await o.SP.post("/api/vendors/create/",p),y(),h({vendor_name:"",street:"",postcode:"",city:"",state:"",phone:""}),d(2)}catch(e){console.error("Error creating vendor:",e)}},b=e=>{x(e),d(1)};return(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Vendor Management"}),(0,n.jsx)("div",{className:"border-b border-gray-200 mb-4",children:(0,n.jsxs)("nav",{className:"flex -mb-px",children:[(0,n.jsx)("button",{className:"py-2 px-4 border-b-2 font-medium text-sm ".concat(0===t?"border-primary-main text-primary-main":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>u(0),children:"Create Vendor"}),(0,n.jsx)("button",{className:"py-2 px-4 border-b-2 font-medium text-sm ".concat(1===t?"border-primary-main text-primary-main":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>u(1),disabled:!l&&1!==t,children:"Vendor Detail"}),(0,n.jsx)("button",{className:"py-2 px-4 border-b-2 font-medium text-sm ".concat(2===t?"border-primary-main text-primary-main":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>u(2),children:"Vendor List"})]})}),0===t&&(0,n.jsx)("form",{onSubmit:f,children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)("label",{htmlFor:"vendor_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),(0,n.jsx)("input",{id:"vendor_name",type:"text",name:"vendor_name",value:p.vendor_name,onChange:g,required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-main focus:ring focus:ring-primary-light focus:ring-opacity-50"})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:"Street"}),(0,n.jsx)("input",{id:"street",type:"text",name:"street",value:p.street,onChange:g,required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-main focus:ring focus:ring-primary-light focus:ring-opacity-50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"postcode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Postcode"}),(0,n.jsx)("input",{id:"postcode",type:"text",name:"postcode",value:p.postcode,onChange:g,required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-main focus:ring focus:ring-primary-light focus:ring-opacity-50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,n.jsx)("input",{id:"city",type:"text",name:"city",value:p.city,onChange:g,required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-main focus:ring focus:ring-primary-light focus:ring-opacity-50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,n.jsx)("input",{id:"state",type:"text",name:"state",value:p.state,onChange:g,required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-main focus:ring focus:ring-primary-light focus:ring-opacity-50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,n.jsx)("input",{id:"phone",type:"text",name:"phone",value:p.phone,onChange:g,required:!0,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-main focus:ring focus:ring-primary-light focus:ring-opacity-50"})]}),(0,n.jsx)("div",{className:"md:col-span-2 mt-4",children:(0,n.jsx)("button",{type:"submit",className:"px-4 py-2 bg-primary-main text-white rounded-md hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light focus:ring-opacity-50",children:"Create Vendor"})})]})}),1===t&&l&&(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Vendor Details"}),(0,n.jsxs)("p",{className:"text-gray-700",children:[(0,n.jsx)("span",{className:"font-medium",children:"Vendor Number:"})," ",l.vendor_number]}),(0,n.jsxs)("p",{className:"text-gray-700",children:[(0,n.jsx)("span",{className:"font-medium",children:"Vendor Name:"})," ",l.vendor_name]}),(0,n.jsxs)("p",{className:"text-gray-700",children:[(0,n.jsx)("span",{className:"font-medium",children:"Street:"})," ",l.street]}),(0,n.jsxs)("p",{className:"text-gray-700",children:[(0,n.jsx)("span",{className:"font-medium",children:"Postcode:"})," ",l.postcode]}),(0,n.jsxs)("p",{className:"text-gray-700",children:[(0,n.jsx)("span",{className:"font-medium",children:"City:"})," ",l.city]}),(0,n.jsxs)("p",{className:"text-gray-700",children:[(0,n.jsx)("span",{className:"font-medium",children:"State:"})," ",l.state]}),(0,n.jsxs)("p",{className:"text-gray-700",children:[(0,n.jsx)("span",{className:"font-medium",children:"Phone:"})," ",l.phone]})]}),2===t&&(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor Number"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor Name"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"City"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(c)&&c.length>0?c.map(e=>(0,n.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.vendor_number}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.vendor_name}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.city}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.phone}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,n.jsx)("button",{onClick:()=>b(e),className:"text-primary-main hover:text-primary-dark",children:"View Details"})})]},e.id)):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No vendors found"})})})]})})]})}}}]);