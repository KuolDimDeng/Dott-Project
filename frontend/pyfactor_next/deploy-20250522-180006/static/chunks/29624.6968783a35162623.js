"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29624],{29624:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(55166),r=a(68387),i=a(95155),l=a(12115),n=a(81051),c=a(42749);let o=e=>{let{open:s,onClose:a,filters:o={},searchQuery:d=""}=e,[m,x]=(0,l.useState)(!1),[h,g]=(0,l.useState)(null),[p,y]=(0,l.useState)("csv"),[u,b]=(0,l.useState)({basic:!0,pricing:!0,inventory:!0,categories:!0,suppliers:!0,locations:!0,dimensions:!1,metadata:!1}),[j,f]=(0,l.useState)(!0),N=e=>{y(e.target.value)},v=e=>{b((0,r._)((0,t._)({},u),{[e.target.name]:e.target.checked}))},w=e=>{let s={};Object.keys(u).forEach(a=>{s[a]=e}),b(s)},k=async()=>{try{x(!0),g(null),Object.keys(u).filter(e=>u[e]),j&&(0,r._)((0,t._)({},o),{search:d});let e=await n.o.exportProducts(p,j?(0,r._)((0,t._)({},o),{search:d}):{}),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download="products_export_".concat(new Date().toISOString().split("T")[0],".").concat(p),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s),a()}catch(e){c.vF.error("Error exporting products:",e),g("Failed to export products. Please try again.")}finally{x(!1)}},C=Object.values(u).some(e=>e),_=Object.values(u).every(e=>e);return s?(0,i.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true",children:(0,i.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,i.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:m?void 0:a}),(0,i.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),(0,i.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Export Products"}),!m&&(0,i.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,i.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,i.jsxs)("div",{className:"px-6 py-4 bg-white",children:[h&&(0,i.jsx)("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700",children:h}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Export your products data in different formats. You can customize what information to include."}),(0,i.jsx)("div",{className:"mb-6",children:(0,i.jsxs)("fieldset",{children:[(0,i.jsx)("legend",{className:"text-sm font-medium text-gray-700 mb-2",children:"Export Format"}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"radio",name:"format",value:"csv",checked:"csv"===p,onChange:N,className:"h-4 w-4 text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"CSV"})]}),(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"radio",name:"format",value:"excel",checked:"excel"===p,onChange:N,className:"h-4 w-4 text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Excel"})]}),(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"radio",name:"format",value:"json",checked:"json"===p,onChange:N,className:"h-4 w-4 text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"JSON"})]})]})]})}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,i.jsx)("legend",{className:"text-sm font-medium text-gray-700",children:"Fields to Export"}),(0,i.jsxs)("div",{className:"space-x-2",children:[(0,i.jsx)("button",{type:"button",onClick:()=>w(!0),disabled:_,className:"text-xs px-2 py-1 rounded ".concat(_?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Select All"}),(0,i.jsx)("button",{type:"button",onClick:()=>w(!1),disabled:!C,className:"text-xs px-2 py-1 rounded ".concat(C?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-100 text-gray-400 cursor-not-allowed"),children:"Deselect All"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",name:"basic",checked:u.basic,onChange:v,className:"h-4 w-4 rounded text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Basic Info (Name, Code, Description)"})]}),(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",name:"pricing",checked:u.pricing,onChange:v,className:"h-4 w-4 rounded text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Pricing Info (Price, Cost, Tax)"})]}),(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",name:"inventory",checked:u.inventory,onChange:v,className:"h-4 w-4 rounded text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Inventory Info (Stock, Reorder Level)"})]}),(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",name:"categories",checked:u.categories,onChange:v,className:"h-4 w-4 rounded text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Categories"})]}),(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",name:"suppliers",checked:u.suppliers,onChange:v,className:"h-4 w-4 rounded text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Suppliers"})]}),(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",name:"locations",checked:u.locations,onChange:v,className:"h-4 w-4 rounded text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Locations"})]}),(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",name:"dimensions",checked:u.dimensions,onChange:v,className:"h-4 w-4 rounded text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Dimensions & Weight"})]}),(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",name:"metadata",checked:u.metadata,onChange:v,className:"h-4 w-4 rounded text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Metadata (Created/Updated Dates)"})]})]})]}),(0,i.jsx)("div",{className:"border-t border-gray-200 my-4"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"inline-flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",name:"applyCurrentFilters",checked:j,onChange:e=>{f(e.target.checked)},className:"h-4 w-4 rounded text-primary-main border-gray-300 focus:ring-primary-light"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Apply current search & filters"})]}),j&&(d||Object.values(o).some(e=>e))&&(0,i.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-md",children:[(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Current filters that will be applied:"}),(0,i.jsxs)("ul",{className:"mt-1 pl-5 list-disc text-xs text-gray-500",children:[d&&(0,i.jsxs)("li",{children:['Search: "',d,'"']}),o.category_id&&(0,i.jsx)("li",{children:"Category filter"}),o.supplier_id&&(0,i.jsx)("li",{children:"Supplier filter"}),o.location_id&&(0,i.jsx)("li",{children:"Location filter"}),o.include_inactive&&(0,i.jsx)("li",{children:"Including inactive products"})]})]})]})]}),(0,i.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex justify-end space-x-2",children:[(0,i.jsx)("button",{type:"button",onClick:a,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light ".concat(m?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"Cancel"}),(0,i.jsx)("button",{type:"button",onClick:k,disabled:m||!C,className:"px-4 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light inline-flex items-center ".concat(m||!C?"bg-primary-light text-white cursor-not-allowed":"bg-primary-main text-white hover:bg-primary-dark"),children:m?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Export"]})})]})]})]})}):null}}}]);