"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97147],{83049:(e,r,t)=>{t.d(r,{g:()=>d});var a=t(37845),s=t(42749);let n=(e,r)=>{throw s.vF.error("API Error: ".concat(r),e),e},l={get:async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(0,a.AT)("GET",e,null,r)}catch(r){n(r,"GET ".concat(e," failed"))}},post:async function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(0,a.AT)("POST",e,r,t)}catch(r){n(r,"POST ".concat(e," failed"))}},put:async function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(0,a.AT)("PUT",e,r,t)}catch(r){n(r,"PUT ".concat(e," failed"))}},delete:async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(0,a.AT)("DELETE",e,null,r)}catch(r){n(r,"DELETE ".concat(e," failed"))}}},i=function(e,r){var t,a,n,l,i;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=(null==e||null==(t=e.response)?void 0:t.status)||(null==e?void 0:e.status)||500,c={status:d,message:(null==e||null==(n=e.response)||null==(a=n.data)?void 0:a.message)||(null==e||null==(i=e.response)||null==(l=i.data)?void 0:l.error)||(null==e?void 0:e.message)||"Unknown error occurred",context:r,timestamp:new Date().toISOString(),originalError:e},p=d>=500,u=401===d||403===d,m=400===d||422===d;return p?s.vF.error("API Error (".concat(d,"): ").concat(r),{error:c,stack:null==e?void 0:e.stack}):u?(s.vF.warn("Auth Error (".concat(d,"): ").concat(r),{error:c}),o.redirectOnAuthError&&(window.location.href="/auth/signin?session_expired=true")):m?s.vF.warn("Validation Error (".concat(d,"): ").concat(r),{error:c}):s.vF.warn("API Error (".concat(d,"): ").concat(r),{error:c}),c};var o=t(51174);let d={getSuppliers:async()=>{try{let e=await (0,o.getTenantId)();if(!e)return s.vF.error("[supplierService] No tenant ID available for supplier list request"),null;let r=await l.get("/inventory/suppliers/",{headers:{"X-Tenant-ID":e}});return r.data||r}catch(e){throw i(e,"Error fetching suppliers"),e}},getSupplier:async e=>{try{let r=await (0,o.getTenantId)();if(!r)return s.vF.error("[supplierService] No tenant ID available for supplier ".concat(e," fetch")),null;let t=await l.get("/inventory/suppliers/".concat(e,"/"),{headers:{"X-Tenant-ID":r}});return t.data||t}catch(r){throw i(r,"Error fetching supplier ".concat(e)),r}},createSupplier:async e=>{try{let r=await (0,o.getTenantId)();if(!r)return s.vF.error("[supplierService] No tenant ID available for supplier creation"),null;let t=await l.post("/inventory/suppliers/",e,{headers:{"X-Tenant-ID":r,"Content-Type":"application/json"}});return t.data||t}catch(e){throw i(e,"Error creating supplier"),e}},updateSupplier:async(e,r)=>{try{let t=await (0,o.getTenantId)();if(!t)return s.vF.error("[supplierService] No tenant ID available for supplier ".concat(e," update")),null;let a=await l.put("/inventory/suppliers/".concat(e,"/"),r,{headers:{"X-Tenant-ID":t,"Content-Type":"application/json"}});return a.data||a}catch(r){throw i(r,"Error updating supplier ".concat(e)),r}},deleteSupplier:async e=>{try{let r=await (0,o.getTenantId)();if(!r)return s.vF.error("[supplierService] No tenant ID available for supplier ".concat(e," deletion")),null;await l.delete("/inventory/suppliers/".concat(e,"/"),{headers:{"X-Tenant-ID":r}})}catch(r){throw i(r,"Error deleting supplier ".concat(e)),r}}}},97147:(e,r,t)=>{t.r(r),t.d(r,{default:()=>y});var a=t(55166),s=t(68387),n=t(36465),l=t(95155),i=t(12115),o=t(40874),d=t(83049),c=t(42749),p=t(8754);let u=()=>{let[e,r]=(0,i.useState)({suppliers:[],isLoading:!0,error:null,snackbar:{open:!1,message:"",severity:"info"},dialogOpen:!1,currentSupplier:{name:"",contact_person:"",email:"",phone:"",address:""},isMockData:!1}),[t,n]=(0,i.useState)(!1),[o,u]=(0,i.useState)(!1),m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";r(r=>(0,s._)((0,a._)({},r),{snackbar:{open:!0,message:e,severity:t}}))};(0,i.useEffect)(()=>{x()},[]);let x=async()=>{try{r(e=>(0,s._)((0,a._)({},e),{isLoading:!0}));let e=await d.g.getSuppliers(),t=Array.isArray(e)?e:[];if(e&&t.length>0)r(e=>(0,s._)((0,a._)({},e),{suppliers:t,isLoading:!1,isMockData:!1,error:null}));else{n(!0);let e=[{id:1,name:"Supplier A",contact_person:"John Doe",email:"john@suppliera.com",phone:"555-123-4567",address:"123 Main St, City, Country"},{id:2,name:"Supplier B",contact_person:"Jane Smith",email:"jane@supplierb.com",phone:"555-987-6543",address:"456 Oak Ave, Town, Country"},{id:3,name:"Supplier C",contact_person:"Bob Johnson",email:"bob@supplierc.com",phone:"555-456-7890",address:"789 Pine Rd, Village, Country"}];r(r=>(0,s._)((0,a._)({},r),{suppliers:e,isLoading:!1,isMockData:!0}))}}catch(t){c.vF.error("Error fetching suppliers:",t),u(!0);let e=[{id:1,name:"Supplier A",contact_person:"John Doe",email:"john@suppliera.com",phone:"555-123-4567",address:"123 Main St, City, Country"},{id:2,name:"Supplier B",contact_person:"Jane Smith",email:"jane@supplierb.com",phone:"555-987-6543",address:"456 Oak Ave, Town, Country"},{id:3,name:"Supplier C",contact_person:"Bob Johnson",email:"bob@supplierc.com",phone:"555-456-7890",address:"789 Pine Rd, Village, Country"}];r(r=>(0,s._)((0,a._)({},r),{suppliers:e,isLoading:!1,error:t.message,isMockData:!0}))}},g=async t=>{if(window.confirm("Are you sure you want to delete this supplier?"))try{e.isMockData||await d.g.deleteSupplier(t),r(e=>(0,s._)((0,a._)({},e),{suppliers:e.suppliers.filter(e=>e.id!==t)})),m("Supplier deleted successfully","success")}catch(e){c.vF.error("Error deleting supplier:",e),m("Error deleting supplier","error")}},h=async()=>{try{let t,n=e.currentSupplier&&e.currentSupplier.id;t=e.isMockData?(0,s._)((0,a._)({},e.currentSupplier),{id:n?e.currentSupplier.id:Math.floor(1e3*Math.random())}):n?await d.g.updateSupplier(e.currentSupplier.id,e.currentSupplier):await d.g.createSupplier(e.currentSupplier),r(e=>{let r=n?e.suppliers.map(e=>e.id===t.id?t:e):[...e.suppliers,t];return(0,s._)((0,a._)({},e),{suppliers:r,dialogOpen:!1,currentSupplier:{name:"",contact_person:"",email:"",phone:"",address:""}})}),m(n?"Supplier updated successfully":"Supplier created successfully","success")}catch(e){c.vF.error("Error saving supplier:",e),m("Error saving supplier","error")}},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?r(r=>(0,s._)((0,a._)({},r),{currentSupplier:(0,a._)({},e),dialogOpen:!0})):r(e=>(0,s._)((0,a._)({},e),{currentSupplier:{name:"",contact_person:"",email:"",phone:"",address:""},dialogOpen:!0}))},b=()=>{r(e=>(0,s._)((0,a._)({},e),{dialogOpen:!1,currentSupplier:{name:"",contact_person:"",email:"",phone:"",address:""}}))},f=e=>{let{name:t,value:n}=e.target;r(e=>(0,s._)((0,a._)({},e),{currentSupplier:(0,s._)((0,a._)({},e.currentSupplier),{[t]:n})}))};return(0,l.jsxs)("div",{className:"p-1 sm:p-2 md:p-4 max-w-7xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Supplier Management"}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)("button",{onClick:()=>y(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,l.jsx)(p.RE,{className:"w-4 h-4 mr-1"}),"Add New Supplier"]}),(0,l.jsxs)("button",{onClick:x,className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm leading-4 font-medium rounded-md shadow-sm text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,l.jsx)(p.fN,{className:"w-4 h-4 mr-1"}),"Refresh"]})]})]}),e.isMockData&&o&&(0,l.jsx)(()=>(0,l.jsxs)("div",{className:"mb-4 p-3 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 dark:bg-yellow-900 dark:border-yellow-600 dark:text-yellow-200",children:[(0,l.jsx)("p",{className:"font-bold",children:"Demo Mode"}),(0,l.jsx)("p",{children:"The supplier management API is currently unavailable. Showing sample data for demonstration purposes."})]}),{}),e.isLoading?(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e.error?(0,l.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 dark:bg-red-900 dark:text-red-200 dark:border-red-600",role:"alert",children:[(0,l.jsx)("p",{className:"font-bold",children:"Error"}),(0,l.jsx)("p",{children:e.error}),(0,l.jsx)("button",{onClick:x,className:"mt-2 inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:text-red-200 dark:bg-red-800 dark:hover:bg-red-700",children:"Try Again"})]}):(0,l.jsx)("div",{className:"overflow-x-auto",children:0===e.suppliers.length?(0,l.jsxs)("div",{className:"text-center p-8 bg-gray-50 dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-500 dark:text-gray-300",children:"No suppliers found"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:'Click "Add New Supplier" to create your first supplier'})]}):(0,l.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 dark:border-gray-700 rounded-lg",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,l.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Contact Person"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Phone"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Address"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:e.suppliers.map(e=>(0,l.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.contact_person||"N/A"}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.email||"N/A"}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.phone||"N/A"}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.address||"N/A"}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)("button",{onClick:()=>y(e),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:[(0,l.jsx)(p.qU,{className:"w-5 h-5"}),(0,l.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,l.jsxs)("button",{onClick:()=>g(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:[(0,l.jsx)(p.d7,{className:"w-5 h-5"}),(0,l.jsx)("span",{className:"sr-only",children:"Delete"})]})]})})]},e.id))})]})})}),e.snackbar.open&&(0,l.jsxs)("div",{className:"fixed bottom-4 right-4 mb-4 p-4 rounded-md shadow-lg flex items-center justify-between ".concat("success"===e.snackbar.severity?"bg-green-500 text-white":"error"===e.snackbar.severity?"bg-red-500 text-white":"bg-blue-500 text-white"),role:"alert","aria-live":"assertive",children:[(0,l.jsx)("span",{children:e.snackbar.message}),(0,l.jsx)("button",{onClick:()=>{r(e=>(0,s._)((0,a._)({},e),{snackbar:(0,s._)((0,a._)({},e.snackbar),{open:!1})}))},className:"ml-4 text-white focus:outline-none",children:(0,l.jsx)(p.US,{className:"w-5 h-5"})})]}),e.dialogOpen&&(0,l.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,l.jsxs)("div",{className:"flex min-h-screen items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:b}),(0,l.jsxs)("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:[(0,l.jsx)("h3",{className:"text-base font-semibold leading-6 text-gray-900 dark:text-white mb-4",children:e.currentSupplier&&e.currentSupplier.id?"Edit Supplier":"Add New Supplier"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),(0,l.jsx)("input",{type:"text",name:"name",id:"name",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",value:e.currentSupplier&&e.currentSupplier.name||"",onChange:f,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Contact Person"}),(0,l.jsx)("input",{type:"text",name:"contact_person",id:"contact_person",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",value:e.currentSupplier&&e.currentSupplier.contact_person||"",onChange:f})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),(0,l.jsx)("input",{type:"email",name:"email",id:"email",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",value:e.currentSupplier&&e.currentSupplier.email||"",onChange:f})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone"}),(0,l.jsx)("input",{type:"text",name:"phone",id:"phone",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",value:e.currentSupplier&&e.currentSupplier.phone||"",onChange:f})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address"}),(0,l.jsx)("textarea",{name:"address",id:"address",rows:"3",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",value:e.currentSupplier&&e.currentSupplier.address||"",onChange:f})]})]})]}),(0,l.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,l.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 sm:ml-3 sm:w-auto",onClick:h,children:e.currentSupplier&&e.currentSupplier.id?"Update":"Add"}),(0,l.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-gray-800 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-200 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 sm:mt-0 sm:w-auto",onClick:b,children:"Cancel"})]})]})]})})]})};function m(e){let{children:r,value:t,index:i}=e,o=(0,n._)(e,["children","value","index"]);return(0,l.jsx)("div",(0,s._)((0,a._)({role:"tabpanel",hidden:t!==i,id:"inventory-tabpanel-".concat(i),"aria-labelledby":"inventory-tab-".concat(i)},o),{children:t===i&&(0,l.jsx)("div",{className:"p-6",children:r})}))}let x=()=>(0,l.jsx)("p",{className:"text-gray-700",children:"Category List (To be implemented)"}),g=()=>(0,l.jsx)("p",{className:"text-gray-700",children:"Location List (To be implemented)"}),h=()=>(0,l.jsx)("p",{className:"text-gray-700",children:"Transaction List (To be implemented)"}),y=function(){let[e,r]=(0,i.useState)(0),t=e=>{r(e)};return(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Inventory Management"}),(0,l.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,l.jsx)("nav",{className:"flex -mb-px","aria-label":"inventory management tabs",children:["Inventory Items","Categories","Suppliers","Locations","Transactions"].map((r,a)=>(0,l.jsx)("button",{className:"py-4 px-6 font-medium text-sm border-b-2 ".concat(e===a?"border-blue-500 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),onClick:()=>t(a),id:"inventory-tab-".concat(a),"aria-controls":"inventory-tabpanel-".concat(a),"aria-selected":e===a,role:"tab",children:r},a))})}),(0,l.jsx)(m,{value:e,index:0,children:(0,l.jsx)(o.default,{})}),(0,l.jsx)(m,{value:e,index:1,children:(0,l.jsx)(x,{})}),(0,l.jsx)(m,{value:e,index:2,children:(0,l.jsx)(u,{})}),(0,l.jsx)(m,{value:e,index:3,children:(0,l.jsx)(g,{})}),(0,l.jsx)(m,{value:e,index:4,children:(0,l.jsx)(h,{})})]})}}}]);