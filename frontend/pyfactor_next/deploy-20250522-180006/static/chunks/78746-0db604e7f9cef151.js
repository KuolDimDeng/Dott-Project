(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[78746],{19002:(e,t,i)=>{"use strict";i.d(t,{H:()=>s});var n=i(45103),r=i(84295);let s=async e=>{var t;let i=e.getConfig().Auth?.Cognito;(0,n.$y)(i);let s=await e.Auth.getTokens({forceRefresh:!1});(0,r.H0)(s);let{"cognito:username":o,sub:a}=s.idToken?.payload??{},d={username:o,userId:a},c=(t=s,t?.signInDetails);return c&&(d.signInDetails=c),d}},24818:(e,t,i)=>{"use strict";i.d(t,{$:()=>s});var n=i(87970),r=i(57762);let s=e=>(0,r.$)(n.H,e)},31632:(e,t,i)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}i.d(t,{A:()=>r});var r=function e(t,i){function r(e,r,s){if("undefined"!=typeof document){"number"==typeof(s=n({},i,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in s)s[a]&&(o+="; "+a,!0!==s[a]&&(o+="="+s[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],n={},r=0;r<i.length;r++){var s=i[r].split("="),o=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(n[a]=t.read(o,a),e===a)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){r(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},37811:e=>{var t,i,n,r=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}var d=[],c=!1,u=-1;function l(){c&&n&&(c=!1,n.length?d=n.concat(d):u=-1,d.length&&h())}function h(){if(!c){var e=a(l);c=!0;for(var t=d.length;t;){for(n=d,d=[];++u<t;)n&&n[u].run();u=-1,t=d.length}n=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function I(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];d.push(new y(e,t)),1!==d.length||c||a(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=I,r.addListener=I,r.once=I,r.off=I,r.removeListener=I,r.removeAllListeners=I,r.emit=I,r.prependListener=I,r.prependOnceListener=I,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}},39641:(e,t,i)=>{"use strict";i.d(t,{C:()=>a,p:()=>o});var n=i(62904),r=i(61573);let s=new n.C("CoreStorageUtils"),o=()=>{try{if("undefined"!=typeof window&&window.localStorage)return window.localStorage}catch(e){s.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new r._},a=()=>{try{if("undefined"!=typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw Error("sessionStorage is not defined")}catch(e){return s.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new r._}}},57762:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});let n=(e,t)=>e.Auth.fetchAuthSession(t)},61573:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});class n{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}},63900:(e,t,i)=>{"use strict";i.d(t,{E:()=>Q});var n=i(87970),r=i(31632);class s{constructor(e={}){let{path:t,domain:i,expires:n,sameSite:r,secure:s}=e;if(this.domain=i,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?n:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||s,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!r||!["strict","lax","none"].includes(r))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===r&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r}}async setItem(e,t){r.A.set(e,t,this.getData())}async getItem(e){return r.A.get(e)??null}async removeItem(e){r.A.remove(e,this.getData())}async clear(){let e=Object.keys(r.A.get()).map(e=>this.removeItem(e));await Promise.all(e)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}var o=i(26829),a=i(53318),d=i(84620),c=i(62904),u=i(45103),l=i(65184);let h={identityId:"identityId"},y=new c.C("DefaultIdentityIdStore");class I{setAuthConfig(e){(0,u.Eh)(e.Cognito),this.authConfig=e,this._authKeys=g("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){(0,u.Eh)(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let e=await this.keyValueStorage.getItem(this._authKeys.identityId);if(e)return this._hasGuestIdentityId=!0,{id:e,type:"guest"};return null}}catch(e){return y.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){(0,u.Eh)(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}let g=(e,t)=>(0,l.Qm)(h)(`com.amplify.${e}`,t);i(9296),i(2727);var f=i(98802),p=i(40981),m=i(90808),w=i(17614),C=i(6031),v=i(60320),A=i(63670),S=i(52750),T=i(32307),_=i(44500),k=i(67605);let x=(0,_.q)(C.F,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),b={service:"cognito-identity",endpointResolver:({region:e})=>({url:new S.o(`https://cognito-identity.${e}.${(0,w.R)(e)}`)}),retryDecider:(0,A.D)(p.F),computeDelay:v.y,userAgentValue:(0,T.fE)(),cache:"no-store"};(0,k.e9)(()=>{b.userAgentValue=(0,T.fE)()});let E=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),K=({url:e},t,i)=>({headers:t,url:e,body:i,method:"POST"}),D=async e=>{if(e.statusCode>=300)throw await (0,p.F)(e);{let t=await (0,p.Y)(e);return{IdentityId:t.IdentityId,Credentials:O(t.Credentials),$metadata:(0,f.j)(e)}}},O=({AccessKeyId:e,SecretKey:t,SessionToken:i,Expiration:n}={})=>({AccessKeyId:e,SecretKey:t,SessionToken:i,Expiration:n&&new Date(1e3*n)}),P=(0,m.A)(x,(e,t)=>K(t,E("GetCredentialsForIdentity"),JSON.stringify(e)),D,b);var R=i(63061),L=i(52008),H=i(88726),F=i(84295);let j=async e=>{if(!(e.statusCode>=300))return{IdentityId:(await (0,p.Y)(e)).IdentityId,$metadata:(0,f.j)(e)};throw await (0,p.F)(e)},G=(0,m.A)(x,(e,t)=>K(t,E("GetId"),JSON.stringify(e)),j,b);function $(e){let t=(0,u.Cq)(e).payload.iss,i={};if(!t)throw new R.l({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return i[t.replace(/(^\w+:|^)\/\//,"")]=e,i}async function U({tokens:e,authConfig:t,identityIdStore:i}){i.setAuthConfig({Cognito:t});let n=await i.loadIdentityId();if(n)return n.id;let r=e?.idToken?$(e.idToken.toString()):{},s=await V(r,t);return i.storeIdentityId({id:s,type:e?"primary":"guest"}),s}async function V(e,t){let i,n=t?.identityPoolId,r=(0,H.C)(n);try{i=(await G({region:r},{IdentityPoolId:n,Logins:e})).IdentityId}catch(e){throw(0,L.e)(e),new R.l(e)}if(!i)throw new R.l({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return i}let N=new c.C("CognitoCredentialsProvider");class z{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){N.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){N.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){let t=e.authenticated,{tokens:i}=e,{authConfig:n}=e;try{(0,u.Eh)(n?.Cognito)}catch{return}if(!t&&!n.Cognito.allowGuestAccess)return;let{forceRefresh:r}=e,s=this.hasTokenChanged(i),o=await U({tokens:i,authConfig:n.Cognito,identityIdStore:this._identityIdStore});return((r||s)&&this.clearCredentials(),t)?((0,F.OW)(i),this.credsForOIDCTokens(n.Cognito,i,o)):this.getGuestCredentials(o,n.Cognito)}async getGuestCredentials(e,t){let i;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return N.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let n=(0,H.C)(t.identityPoolId);try{i=await P({region:n},{IdentityId:e})}catch(e){throw(0,L.e)(e),new R.l(e)}if(i?.Credentials?.AccessKeyId&&i?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let t={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:e};return i.IdentityId&&(t.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new R.l({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,i){let n;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return N.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let r=t.idToken?$(t.idToken.toString()):{},s=(0,H.C)(e.identityPoolId);try{n=await P({region:s},{IdentityId:i,Logins:r})}catch(e){throw(0,L.e)(e),new R.l(e)}if(n?.Credentials?.AccessKeyId&&n?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let e={credentials:{accessKeyId:n.Credentials.AccessKeyId,secretAccessKey:n.Credentials.SecretKey,sessionToken:n.Credentials.SessionToken,expiration:n.Credentials.Expiration},identityId:i};return n.IdentityId&&(e.identityId=n.IdentityId,this._identityIdStore.storeIdentityId({id:n.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},e}throw new R.l({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}let M=new z(new I(o.ZL)),Q={configure(e,t){let i=(0,a.M)(e);if(!i.Auth||t?.Auth)return void n.H.configure(i,t);if(!n.H.libraryOptions.Auth){d.Q.setAuthConfig(i.Auth),d.Q.setKeyValueStorage(t?.ssr?new s({sameSite:"lax"}):o.ZL),n.H.configure(i,{...t,Auth:{tokenProvider:d.Q,credentialsProvider:M}});return}if(t){void 0!==t.ssr&&d.Q.setKeyValueStorage(t.ssr?new s({sameSite:"lax"}):o.ZL),n.H.configure(i,{Auth:n.H.libraryOptions.Auth,...t});return}n.H.configure(i)},getConfig:()=>n.H.getConfig()}},81746:(e,t,i)=>{"use strict";i.d(t,{H:()=>s});var n=i(87970),r=i(19002);let s=async()=>(0,r.H)(n.H)},94225:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});var n=i(95730);class r{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new n.h;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new n.h;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new n.h;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new n.h;this.storage.clear()}}},95730:(e,t,i)=>{"use strict";i.d(t,{h:()=>s});var n=i(31241),r=i(65206);class s extends r.x{constructor(){super({name:n.m.PlatformNotSupported,message:"Function not supported on current platform"})}}}}]);