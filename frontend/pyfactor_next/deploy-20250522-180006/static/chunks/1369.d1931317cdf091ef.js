"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1369],{1369:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var i=a(95155),d=a(12115),r=a(29729),l=a(42749),s=a(87449);let n=()=>{let[e,t]=(0,d.useState)([]),[a,n]=(0,d.useState)(!1),[c,o]=(0,d.useState)(new Date),m=(0,s.d)();(0,d.useEffect)(()=>{h()},[c]);let h=async()=>{n(!0);try{let e=await r.SP.get("/api/reports/aged-receivables/",{params:{as_of_date:c.toISOString().split("T")[0]}});t(e.data),l.vF.debug("Fetched aged receivables:",e.data)}catch(e){l.vF.error("Error fetching aged receivables:",e),m.error("Failed to fetch aged receivables")}n(!1)},g=[{id:"customer_name",label:"Customer",minWidth:170},{id:"invoice_number",label:"Invoice #",minWidth:100},{id:"invoice_date",label:"Invoice Date",minWidth:100},{id:"due_date",label:"Due Date",minWidth:100},{id:"invoice_amount",label:"Invoice Amount",minWidth:100,align:"right",format:e=>"$".concat(e.toFixed(2))},{id:"current",label:"Current",minWidth:100,align:"right",format:e=>"$".concat(e.toFixed(2))},{id:"days_0_30",label:"0-30 Days",minWidth:100,align:"right",format:e=>"$".concat(e.toFixed(2))},{id:"days_31_60",label:"31-60 Days",minWidth:100,align:"right",format:e=>"$".concat(e.toFixed(2))},{id:"days_61_90",label:"61-90 Days",minWidth:100,align:"right",format:e=>"$".concat(e.toFixed(2))},{id:"days_over_90",label:"Over 90 Days",minWidth:100,align:"right",format:e=>"$".concat(e.toFixed(2))},{id:"total_outstanding",label:"Total Outstanding",minWidth:100,align:"right",format:e=>"$".concat(e.toFixed(2))}];return(0,i.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Aged Receivables"}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{htmlFor:"asOfDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"As of Date"}),(0,i.jsx)("input",{id:"asOfDate",type:"date",className:"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:c.toISOString().split("T")[0],onChange:e=>o(new Date(e.target.value))})]}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsx)("tr",{children:g.map(e=>(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ".concat("right"===e.align?"text-right":"text-left"),style:{minWidth:e.minWidth},children:e.label},e.id))})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:g.length,className:"px-6 py-4 text-center",children:(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})})})}):e.map(e=>(0,i.jsx)("tr",{className:"hover:bg-gray-50",children:g.map(t=>{let a=e[t.id];return(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 ".concat("right"===t.align?"text-right":"text-left"),children:t.format&&"number"==typeof a?t.format(a):a},t.id)})},e.invoice_number))})]})})})]})}}}]);