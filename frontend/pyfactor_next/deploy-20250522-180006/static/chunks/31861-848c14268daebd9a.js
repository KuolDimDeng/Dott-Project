"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31861],{31861:(e,t,n)=>{n.d(t,{lR:()=>g.l,c:()=>ep,eA:()=>eu.eA,PG:()=>r.P,rL:()=>m,z6:()=>c.z,wf:()=>z.w,Cq:()=>d.Cq,hG:()=>ea,g1:()=>Y,fR:()=>eS,$e:()=>k.$,Uc:()=>el,Sh:()=>x,Tv:()=>j.T,IW:()=>es,getCurrentUser:()=>q.H,ZD:()=>em,m4:()=>er,hd:()=>s.h,xw:()=>i.x,cO:()=>Q.c,xD:()=>W.x,Jv:()=>o.J,$2:()=>Z.$,CI:()=>G.C,Hh:()=>a.H,dr:()=>N,f3:()=>F,Z_:()=>L,uF:()=>K.u,if:()=>V});var a=n(95027),i=n(27755),r=n(80079),o=n(23639),s=n(97220),c=n(55481),l=n(87970),d=n(45103),u=n(38020),g=n(63061),A=n(65978),f=n(52008),v=n(11600),h=n(36642),C=n(21149),w=n(73227),p=n(84620),y=n(46734),T=n(94136);async function m(e){let{challengeResponse:t,options:n}=e,{username:a,challengeName:i,signInSession:r,signInDetails:o}=u.c$.getState(),s=l.H.getConfig().Auth?.Cognito;(0,d.$y)(s);let c=n?.clientMetadata;if((0,v.M)(!!t,h.P.EmptyChallengeResponse),!a||!i||!r)throw new g.l({name:C.nC.SignInException,message:`
			An error occurred during the sign in process.

			This most likely occurred due to:
			1. signIn was not called before confirmSignIn.
			2. signIn threw an exception.
			3. page was refreshed during the sign in flow and session has expired.
			`,recoverySuggestion:"Make sure a successful call to signIn is made before calling confirmSignInand that the session has not expired."});try{let{Session:e,ChallengeName:l,AuthenticationResult:d,ChallengeParameters:g}=await (0,A.XE)(a,i,r,t,s,p.o,c,n);if((0,u.wr)({signInSession:e,username:a,challengeName:l,signInDetails:o}),d)return await (0,w.i)({username:a,...d,NewDeviceMetadata:await (0,T.i)({userPoolId:s.userPoolId,userPoolEndpoint:s.userPoolEndpoint,newDeviceMetadata:d.NewDeviceMetadata,accessToken:d.AccessToken}),signInDetails:o}),(0,u.jN)(),await (0,y.Q)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,A.q2)({challengeName:l,challengeParameters:g})}catch(t){(0,f.e)(t);let e=(0,A.m$)(t.name);if(e)return e;throw t}}var k=n(24818),D=n(27593),S=n(88726),M=n(84295),R=n(59262),P=n(90808),H=n(55413),$=n(2242),b=n(41811),E=n(83854);let O=e=>(0,P.A)(H.e,(0,$._)("SetUserMFAPreference"),(0,b.T)(),{...E.C,...e});var I=n(32712);async function N(e){let{sms:t,totp:n,email:a}=e,i=l.H.getConfig().Auth?.Cognito;(0,d.$y)(i);let{userPoolEndpoint:r,userPoolId:o}=i,{tokens:s}=await (0,k.$)({forceRefresh:!1});(0,M.H0)(s);let c=O({endpointResolver:(0,I.o)({endpointOverride:r})});await c({region:(0,S.J)(o),userAgentValue:(0,R.A)(D.BM.UpdateMFAPreference)},{AccessToken:s.accessToken.toString(),SMSMfaSettings:_(t),SoftwareTokenMfaSettings:_(n),EmailMfaSettings:_(a)})}function _(e){return"DISABLED"===e?{Enabled:!1}:"PREFERRED"===e?{Enabled:!0,PreferredMfa:!0}:"ENABLED"===e?{Enabled:!0}:"NOT_PREFERRED"===e?{Enabled:!0,PreferredMfa:!1}:void 0}var B=n(50581);async function x(){let e=l.H.getConfig().Auth?.Cognito;(0,d.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:a}=await (0,k.$)({forceRefresh:!1});(0,M.H0)(a);let i=(0,B.N)({endpointResolver:(0,I.o)({endpointOverride:t})}),{PreferredMfaSetting:r,UserMFASettingList:o}=await i({region:(0,S.J)(n),userAgentValue:(0,R.A)(D.BM.FetchMFAPreference)},{AccessToken:a.accessToken.toString()});return{preferred:(0,A.DI)(r),enabled:(0,A.So)(o)}}var J=n(80179);async function V(e){let t=l.H.getConfig().Auth?.Cognito;(0,d.$y)(t);let{userPoolEndpoint:n,userPoolId:a}=t,{code:i,options:r}=e;(0,v.M)(!!i,h.P.EmptyVerifyTOTPSetupCode);let{tokens:o}=await (0,k.$)({forceRefresh:!1});(0,M.H0)(o);let s=(0,J.Z)({endpointResolver:(0,I.o)({endpointOverride:n})});await s({region:(0,S.J)(a),userAgentValue:(0,R.A)(D.BM.VerifyTOTPSetup)},{AccessToken:o.accessToken.toString(),UserCode:i,FriendlyDeviceName:r?.friendlyDeviceName})}let U=e=>(0,P.A)(H.e,(0,$._)("ChangePassword"),(0,b.T)(),{...E.C,...e});async function F(e){let t=l.H.getConfig().Auth?.Cognito;(0,d.$y)(t);let{userPoolEndpoint:n,userPoolId:a}=t,{oldPassword:i,newPassword:r}=e;(0,v.M)(!!i,h.P.EmptyUpdatePassword),(0,v.M)(!!r,h.P.EmptyUpdatePassword);let{tokens:o}=await (0,k.$)({forceRefresh:!1});(0,M.H0)(o);let s=U({endpointResolver:(0,I.o)({endpointOverride:n})});await s({region:(0,S.J)(a),userAgentValue:(0,R.A)(D.BM.UpdatePassword)},{AccessToken:o.accessToken.toString(),PreviousPassword:i,ProposedPassword:r})}var W=n(35030),K=n(52584);let L=async e=>{let{userAttribute:{attributeKey:t,value:n},options:a}=e;return Object.values(await (0,K.u)({userAttributes:{[t]:n},options:a}))[0]};var q=n(81746),z=n(71194),Z=n(15102),j=n(11024),G=n(82354),Q=n(35220);let X=e=>(0,P.A)(H.e,(0,$._)("DeleteUserAttributes"),(0,b.T)(),{...E.C,...e});async function Y(e){let t=l.H.getConfig().Auth?.Cognito;(0,d.$y)(t);let{userAttributeKeys:n}=e,{userPoolEndpoint:a,userPoolId:i}=t,{tokens:r}=await (0,k.$)({forceRefresh:!1});(0,M.H0)(r);let o=X({endpointResolver:(0,I.o)({endpointOverride:a})});await o({region:(0,S.J)(i),userAgentValue:(0,R.A)(D.BM.DeleteUserAttributes)},{AccessToken:r.accessToken.toString(),UserAttributeNames:n})}var ee=n(40981);let et=()=>async e=>{if(e.statusCode>=300){let t=await (0,ee.F)(e);throw(0,f.e)(t),new g.l({name:t.name,message:t.message})}},en=e=>(0,P.A)(H.e,(0,$._)("DeleteUser"),et(),{...E.C,...e});async function ea(){let e=l.H.getConfig().Auth?.Cognito;(0,d.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:a}=await (0,k.$)();(0,M.H0)(a);let i=en({endpointResolver:(0,I.o)({endpointOverride:t})});await i({region:(0,S.J)(n),userAgentValue:(0,R.A)(D.BM.DeleteUser)},{AccessToken:a.accessToken.toString()}),await p.o.clearDeviceMetadata(),await (0,G.C)()}let ei=e=>(0,P.A)(H.e,(0,$._)("UpdateDeviceStatus"),(0,b.T)(),{...E.C,...e});async function er(){let e=l.H.getConfig().Auth?.Cognito;(0,d.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:a}=await (0,k.$)();(0,M.H0)(a);let i=await p.o?.getDeviceMetadata();(0,M.O_)(i);let r=ei({endpointResolver:(0,I.o)({endpointOverride:t})});await r({region:(0,S.J)(n),userAgentValue:(0,R.A)(D.BM.RememberDevice)},{AccessToken:a.accessToken.toString(),DeviceKey:i.deviceKey,DeviceRememberedStatus:"remembered"})}let eo=e=>(0,P.A)(H.e,(0,$._)("ForgetDevice"),et(),{...E.C,...e});async function es(e){let{device:{id:t}={id:void 0}}=e??{},n=l.H.getConfig().Auth?.Cognito;(0,d.$y)(n);let{userPoolEndpoint:a,userPoolId:i}=n,{tokens:r}=await (0,k.$)();(0,M.H0)(r);let o=await p.o.getDeviceMetadata(),s=o?.deviceKey;t||(0,M.O_)(o);let c=eo({endpointResolver:(0,I.o)({endpointOverride:a})});await c({region:(0,S.J)(i),userAgentValue:(0,R.A)(D.BM.ForgetDevice)},{AccessToken:r.accessToken.toString(),DeviceKey:t??s}),t&&t!==s||await p.o.clearDeviceMetadata()}let ec=e=>(0,P.A)(H.e,(0,$._)("ListDevices"),(0,b.T)(),{...E.C,...e});async function el(){let e=l.H.getConfig().Auth?.Cognito;(0,d.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:a}=await (0,k.$)();(0,M.H0)(a);let i=ec({endpointResolver:(0,I.o)({endpointOverride:t})});return ed((await i({region:(0,S.J)(n),userAgentValue:(0,R.A)(D.BM.FetchDevices)},{AccessToken:a.accessToken.toString(),Limit:60})).Devices??[])}let ed=async e=>e.map(({DeviceKey:e="",DeviceAttributes:t=[],DeviceCreateDate:n,DeviceLastModifiedDate:a,DeviceLastAuthenticatedDate:i})=>{let r,o=t.reduce((e,{Name:t,Value:n})=>(t&&n&&("device_name"===t&&(r=n),e[t]=n),e),{});return{id:e,name:r,attributes:o,createDate:n?new Date(1e3*n):void 0,lastModifiedDate:a?new Date(1e3*a):void 0,lastAuthenticatedDate:i?new Date(1e3*i):void 0}});var eu=n(20499);n(9296);var eg=n(60452),eA=n(23447),ef=n(12337),ev=n(82848);let eh=async e=>{try{let t=(0,ev.H)();(0,ef.xk)(t,ef.Au.PasskeyNotSupported);let n=(0,eA.At)(e),a=await navigator.credentials.create({publicKey:n});return(0,eg.Yn)(a),(0,eA.KN)(a)}catch(e){throw(0,ef.at)(e)}},eC=e=>(0,P.A)(H.e,(0,$._)("StartWebAuthnRegistration"),(0,b.T)(),{...E.C,...e}),ew=e=>(0,P.A)(H.e,(0,$._)("CompleteWebAuthnRegistration"),(0,b.T)(),{...E.C,...e});async function ep(){let e=l.H.getConfig().Auth?.Cognito;(0,d.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:a}=await (0,k.$)();(0,M.H0)(a);let i=eC({endpointResolver:(0,I.o)({endpointOverride:t})}),{CredentialCreationOptions:r}=await i({region:(0,S.J)(n),userAgentValue:(0,R.A)(D.BM.StartWebAuthnRegistration)},{AccessToken:a.accessToken.toString()});(0,ef.xk)([!!r,!!r?.challenge,!!r?.user,!!r?.rp,!!r?.pubKeyCredParams].every(Boolean),ef.Au.InvalidPasskeyRegistrationOptions);let o=await eh(r),s=ew({endpointResolver:(0,I.o)({endpointOverride:t})});await s({region:(0,S.J)(n),userAgentValue:(0,R.A)(D.BM.CompleteWebAuthnRegistration)},{AccessToken:a.accessToken.toString(),Credential:o})}let ey=e=>(0,P.A)(H.e,(0,$._)("ListWebAuthnCredentials"),(0,b.T)(),{...E.C,...e});async function eT(e,t){let n=e.getConfig().Auth?.Cognito;(0,d.$y)(n);let{userPoolEndpoint:a,userPoolId:i}=n,{tokens:r}=await e.Auth.fetchAuthSession();(0,M.H0)(r);let o=ey({endpointResolver:(0,I.o)({endpointOverride:a})}),{Credentials:s=[],NextToken:c}=await o({region:(0,S.J)(i),userAgentValue:(0,R.A)(D.BM.ListWebAuthnCredentials)},{AccessToken:r.accessToken.toString(),MaxResults:t?.pageSize,NextToken:t?.nextToken});return{credentials:s.map(e=>({credentialId:e.CredentialId,friendlyCredentialName:e.FriendlyCredentialName,relyingPartyId:e.RelyingPartyId,authenticatorAttachment:e.AuthenticatorAttachment,authenticatorTransports:e.AuthenticatorTransports,createdAt:e.CreatedAt?new Date(1e3*e.CreatedAt):void 0})),nextToken:c}}async function em(e){return eT(l.H,e)}let ek=e=>(0,P.A)(H.e,(0,$._)("DeleteWebAuthnCredential"),(0,b.T)(),{...E.C,...e});async function eD(e,t){let n=e.getConfig().Auth?.Cognito;(0,d.$y)(n);let{userPoolEndpoint:a,userPoolId:i}=n,{tokens:r}=await e.Auth.fetchAuthSession();(0,M.H0)(r);let o=ek({endpointResolver:(0,I.o)({endpointOverride:a})});await o({region:(0,S.J)(i),userAgentValue:(0,R.A)(D.BM.DeleteWebAuthnCredential)},{AccessToken:r.accessToken.toString(),CredentialId:t.credentialId})}async function eS(e){return eD(l.H,e)}}}]);