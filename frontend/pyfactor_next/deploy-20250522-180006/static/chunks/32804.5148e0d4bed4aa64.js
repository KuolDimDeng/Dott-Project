"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32804],{32804:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var r=a(55166),s=a(68387),l=a(95155),n=a(12115),d=a(29729);let c=()=>{let[e,t]=(0,n.useState)(0),[a,c]=(0,n.useState)([]),[o,u]=(0,n.useState)(null),[i,x]=(0,n.useState)({purchase_order:"",date:new Date().toISOString().split("T")[0],reason:"",total_amount:0,status:"pending",items:[]});(0,n.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await d.SP.get("/api/purchase-returns/");c(e.data)}catch(e){console.error("Error fetching purchase returns:",e)}},p=e=>{t(e)},b=e=>{let{name:t,value:a}=e.target;x(e=>(0,s._)((0,r._)({},e),{[t]:a}))},h=async e=>{e.preventDefault();try{let e=await d.SP.post("/api/purchase-returns/",i);console.log("Purchase return created:",e.data),m(),t(2)}catch(e){console.error("Error creating purchase return:",e)}},g=e=>{u(e),t(1)};return(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Purchase Returns Management"}),(0,l.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,l.jsxs)("nav",{className:"flex -mb-px",children:[(0,l.jsx)("button",{onClick:()=>p(0),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat(0===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),"aria-selected":0===e,children:"Create"}),(0,l.jsx)("button",{onClick:()=>p(1),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat(1===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),"aria-selected":1===e,children:"Details"}),(0,l.jsx)("button",{onClick:()=>p(2),className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat(2===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),"aria-selected":2===e,children:"List"})]})}),0===e&&(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Create Purchase Return"}),(0,l.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"purchase_order",className:"block text-sm font-medium text-gray-700",children:"Purchase Order"}),(0,l.jsx)("input",{type:"text",id:"purchase_order",name:"purchase_order",value:i.purchase_order,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,l.jsx)("input",{type:"date",id:"date",name:"date",value:i.date,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700",children:"Reason"}),(0,l.jsx)("textarea",{id:"reason",name:"reason",value:i.reason,onChange:b,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"total_amount",className:"block text-sm font-medium text-gray-700",children:"Total Amount"}),(0,l.jsx)("input",{type:"number",id:"total_amount",name:"total_amount",value:i.total_amount,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,l.jsxs)("select",{id:"status",name:"status",value:i.status,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{value:"pending",children:"Pending"}),(0,l.jsx)("option",{value:"approved",children:"Approved"}),(0,l.jsx)("option",{value:"completed",children:"Completed"}),(0,l.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,l.jsx)("button",{type:"submit",className:"mt-6 w-full md:w-auto px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:"Create Purchase Return"})]})]}),1===e&&(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Purchase Return Details"}),o?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Return Number"}),(0,l.jsx)("input",{type:"text",value:o.return_number,className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700",disabled:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Purchase Order"}),(0,l.jsx)("input",{type:"text",value:o.purchase_order,className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700",disabled:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,l.jsx)("input",{type:"text",value:new Date(o.date).toLocaleDateString(),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700",disabled:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),(0,l.jsx)("textarea",{value:o.reason,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700",disabled:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Total Amount"}),(0,l.jsx)("input",{type:"text",value:o.total_amount,className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700",disabled:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,l.jsx)("input",{type:"text",value:o.status,className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700",disabled:!0})]})]}):(0,l.jsx)("p",{className:"text-gray-600",children:"Select a purchase return from the list to view details"})]}),2===e&&(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Purchase Returns List"}),(0,l.jsx)("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Return Number"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchase Order"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(e=>(0,l.jsxs)("tr",{onClick:()=>g(e),className:"hover:bg-gray-50 cursor-pointer",children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.return_number}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.purchase_order}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.date).toLocaleDateString()}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.total_amount}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,l.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full \n                        ".concat("pending"===e.status&&"bg-yellow-100 text-yellow-800","\n                        ").concat("approved"===e.status&&"bg-green-100 text-green-800","\n                        ").concat("completed"===e.status&&"bg-blue-100 text-blue-800","\n                        ").concat("rejected"===e.status&&"bg-red-100 text-red-800","\n                      "),children:e.status})})]},e.id))})]})})]})]})}}}]);