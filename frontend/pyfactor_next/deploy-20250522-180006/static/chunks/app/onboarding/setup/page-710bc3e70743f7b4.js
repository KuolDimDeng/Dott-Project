(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1676],{10647:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(36465),n=r(12115);let s=n.forwardRef(function(e,t){var{title:r,titleId:s}=e,i=(0,a._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))})},30307:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(36465),n=r(12115);let s=n.forwardRef(function(e,t){var{title:r,titleId:s}=e,i=(0,a._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))})},35924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>O});var a=r(95155),n=r(12115),s=r(35695),i=r(29729),o=r(42749),l=r(77657),c=r(75663),u=r(28835),d=r(25465),m=r(24818),p=r(11518),f=r.n(p),g=r(36465);let h=n.forwardRef(function(e,t){var{title:r,titleId:a}=e,s=(0,g._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}),b=n.forwardRef(function(e,t){var{title:r,titleId:a}=e,s=(0,g._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});var x=r(57655);let w=n.forwardRef(function(e,t){var{title:r,titleId:a}=e,s=(0,g._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))});var v=r(30307);let y=n.forwardRef(function(e,t){var{title:r,titleId:a}=e,s=(0,g._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))});var j=r(3963);function S(e){let{onContinue:t,setupDuration:r=null}=e,{t:s}=(0,c.Bd)(),[i,o]=(0,n.useState)(!0),l=r?"".concat((r/1e3).toFixed(1),"s"):"complete";(0,n.useEffect)(()=>{let e=setTimeout(()=>{o(!1)},4e3);return()=>clearTimeout(e)},[]);let u=[{title:"Financial Dashboard",description:"View your finances at a glance with interactive charts",icon:(0,a.jsx)(b,{className:"h-5 w-5 text-blue-500"})},{title:"Invoice Management",description:"Create and track professional invoices",icon:(0,a.jsx)(x.A,{className:"h-5 w-5 text-indigo-500"})},{title:"Expense Tracking",description:"Log and categorize all business expenses",icon:(0,a.jsx)(w,{className:"h-5 w-5 text-purple-500"})},{title:"Team Collaboration",description:"Invite team members to streamline workflows",icon:(0,a.jsx)(v.A,{className:"h-5 w-5 text-green-500"})}];return(0,a.jsxs)("div",{className:"jsx-8c229f5bcbb05361 max-w-xl mx-auto py-6 px-4",children:[i&&(0,a.jsx)("div",{className:"jsx-8c229f5bcbb05361 confetti-container",children:[...Array(30)].map((e,t)=>(0,a.jsx)("div",{style:{left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(3*Math.random(),"s"),backgroundColor:["#3B82F6","#8B5CF6","#EC4899","#10B981","#F59E0B"][Math.floor(5*Math.random())]},className:"jsx-8c229f5bcbb05361 confetti"},t))}),(0,a.jsxs)("div",{className:"jsx-8c229f5bcbb05361 flex flex-col items-center text-center mb-10",children:[(0,a.jsxs)("div",{className:"jsx-8c229f5bcbb05361 relative",children:[(0,a.jsxs)("div",{className:"jsx-8c229f5bcbb05361 flex items-center justify-center h-24 w-24 rounded-full bg-green-100 mb-6 relative overflow-hidden",children:[(0,a.jsx)(h,{className:"h-16 w-16 text-green-600"}),(0,a.jsx)("div",{className:"jsx-8c229f5bcbb05361 absolute inset-0 bg-green-500 opacity-20 pulse-animation"})]}),(0,a.jsx)("div",{className:"jsx-8c229f5bcbb05361 absolute -top-1 -right-1",children:(0,a.jsx)(y,{className:"h-6 w-6 text-amber-400 animate-ping",style:{animationDuration:"3s"}})})]}),(0,a.jsx)("h2",{className:"jsx-8c229f5bcbb05361 text-2xl font-bold text-gray-900 mb-3",children:"Setup Complete!"}),(0,a.jsxs)("p",{className:"jsx-8c229f5bcbb05361 text-gray-600 mb-8 max-w-md",children:["Your account has been successfully configured and is ready to use.",r&&(0,a.jsxs)("span",{className:"jsx-8c229f5bcbb05361 block mt-2 text-sm text-gray-500",children:["Setup completed in ",l]})]})]}),(0,a.jsxs)("div",{className:"jsx-8c229f5bcbb05361 bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:[(0,a.jsx)("h3",{className:"jsx-8c229f5bcbb05361 text-lg font-semibold text-gray-800 mb-4",children:"Get started with these features"}),(0,a.jsx)("div",{className:"jsx-8c229f5bcbb05361 grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((e,t)=>(0,a.jsxs)("div",{className:"jsx-8c229f5bcbb05361 flex items-start p-3 rounded-lg hover:bg-blue-50 transition-colors",children:[(0,a.jsx)("div",{className:"jsx-8c229f5bcbb05361 flex-shrink-0 mr-3 mt-1",children:e.icon}),(0,a.jsxs)("div",{className:"jsx-8c229f5bcbb05361",children:[(0,a.jsx)("h4",{className:"jsx-8c229f5bcbb05361 font-medium text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"jsx-8c229f5bcbb05361 text-sm text-gray-600",children:e.description})]})]},t))})]}),(0,a.jsxs)("div",{className:"jsx-8c229f5bcbb05361 flex flex-col items-center",children:[(0,a.jsx)(j.$n,{variant:"contained",color:"primary",onClick:t,className:"px-8 py-3 text-lg font-medium","data-testid":"continue-to-dashboard-button",children:"Continue to Dashboard"}),(0,a.jsxs)("p",{className:"jsx-8c229f5bcbb05361 text-sm text-gray-500 mt-3",children:["Need help getting started? Check out our ",(0,a.jsx)("a",{href:"#",className:"jsx-8c229f5bcbb05361 text-blue-600 hover:underline",children:"quick start guide"})]})]}),(0,a.jsx)(f(),{id:"8c229f5bcbb05361",children:".confetti-container.jsx-8c229f5bcbb05361{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100;overflow:hidden}.confetti.jsx-8c229f5bcbb05361{position:absolute;width:10px;height:10px;opacity:.8;-webkit-animation:fall 5s ease-in-out forwards;-moz-animation:fall 5s ease-in-out forwards;-o-animation:fall 5s ease-in-out forwards;animation:fall 5s ease-in-out forwards;-webkit-transform:rotate(3deg);-moz-transform:rotate(3deg);-ms-transform:rotate(3deg);-o-transform:rotate(3deg);transform:rotate(3deg)}@-webkit-keyframes fall{0%{top:-10px;-webkit-transform:rotate(0deg)translatex(0);transform:rotate(0deg)translatex(0);opacity:1}100%{top:100%;-webkit-transform:rotate(360deg)translatex(100px);transform:rotate(360deg)translatex(100px);opacity:0}}@-moz-keyframes fall{0%{top:-10px;-moz-transform:rotate(0deg)translatex(0);transform:rotate(0deg)translatex(0);opacity:1}100%{top:100%;-moz-transform:rotate(360deg)translatex(100px);transform:rotate(360deg)translatex(100px);opacity:0}}@-o-keyframes fall{0%{top:-10px;-o-transform:rotate(0deg)translatex(0);transform:rotate(0deg)translatex(0);opacity:1}100%{top:100%;-o-transform:rotate(360deg)translatex(100px);transform:rotate(360deg)translatex(100px);opacity:0}}@keyframes fall{0%{top:-10px;-webkit-transform:rotate(0deg)translatex(0);-moz-transform:rotate(0deg)translatex(0);-o-transform:rotate(0deg)translatex(0);transform:rotate(0deg)translatex(0);opacity:1}100%{top:100%;-webkit-transform:rotate(360deg)translatex(100px);-moz-transform:rotate(360deg)translatex(100px);-o-transform:rotate(360deg)translatex(100px);transform:rotate(360deg)translatex(100px);opacity:0}}.pulse-animation.jsx-8c229f5bcbb05361{-webkit-animation:pulse 2s infinite;-moz-animation:pulse 2s infinite;-o-animation:pulse 2s infinite;animation:pulse 2s infinite}@-webkit-keyframes pulse{0%,100%{opacity:.2}50%{opacity:.5}}@-moz-keyframes pulse{0%,100%{opacity:.2}50%{opacity:.5}}@-o-keyframes pulse{0%,100%{opacity:.2}50%{opacity:.5}}@keyframes pulse{0%,100%{opacity:.2}50%{opacity:.5}}"})]})}var N=r(78452),_=r(10647);let E=n.forwardRef(function(e,t){var{title:r,titleId:a}=e,s=(0,g._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))});var k=r(29670),A=r(99944);r(25956);let L=[{key:"initializing",label:"Initializing Setup",description:"Preparing your account setup"},{key:"configuring",label:"Configuring Environment",description:"Setting up your workspace"},{key:"permissions",label:"Setting Permissions",description:"Configuring security settings"},{key:"finalizing",label:"Finalizing",description:"Almost there!"},{key:"complete",label:"Setup Complete",description:"Your account is ready to use"}];function O(){let e=(0,s.useRouter)(),{t}=(0,c.Bd)(),[r,p]=(0,n.useState)("initializing"),[f,g]=(0,n.useState)(0),[h,b]=(0,n.useState)(null),[x,w]=(0,n.useState)(!1),[v,y]=(0,n.useState)(!1),[j,O]=(0,n.useState)(null),[P,R]=(0,n.useState)(null);(0,n.useEffect)(()=>{g({initializing:0,configuring:1,permissions:2,finalizing:3,complete:4}[r]||0)},[r]),(0,n.useEffect)(()=>{if(!v||x)return;let e=setTimeout(()=>{if("complete"!==r){if(o.vF.debug("[SetupPage] Force completing setup due to timeout"),j){let e=Date.now()-j;R(e),(0,k.mm)("setup_duration",e)}(async()=>{try{await (0,A._X)(A.V4.ONBOARDING_STATUS,"complete"),await (0,A._X)("custom:setupdone","true"),await (0,A._X)(A.V4.ONBOARDING_STEP,"complete"),(0,k.mm)("setup_complete",!0),(0,k.mm)("setup_timestamp",Date.now()),(0,k.mm)("onboarding_status","complete"),o.vF.debug("[SetupPage] Updated Cognito attributes and AppCache for setup completion")}catch(e){o.vF.error("[SetupPage] Error updating Cognito attributes:",e)}})(),w(!0),p("complete")}},8e3);return()=>clearTimeout(e)},[r,v,j,x]),(0,n.useEffect)(()=>{(async()=>{o.vF.debug("[SetupPage] Starting auth check");let t=new URLSearchParams(window.location.search),r="true"===t.get("skipLoading"),a="true"===t.get("useRLS");if(r&&a){o.vF.debug("[SetupPage] RLS skipLoading detected, bypassing auth check");try{await (0,A._X)(A.V4.ONBOARDING_STATUS,"complete"),await (0,A._X)("custom:setupdone","true"),await (0,A._X)(A.V4.ONBOARDING_STEP,"complete"),(0,k.mm)("setup_complete",!0),(0,k.mm)("setup_timestamp",Date.now()),(0,k.mm)("setup_useRLS",!0),(0,k.mm)("onboarding_status","complete"),o.vF.debug("[SetupPage] Updated Cognito and AppCache for RLS setup")}catch(e){o.vF.error("[SetupPage] Error updating Cognito for RLS setup:",e)}O(Date.now()),w(!0),p("complete"),y(!0);return}try{let{tokens:e}=await (0,m.$)();if(!(null==e?void 0:e.idToken))throw o.vF.error("[SetupPage] No valid auth tokens found"),Error("Authentication required");o.vF.debug("[SetupPage] Auth valid, storing tokens in AppCache"),(0,k.mm)("auth_id_token",e.idToken.toString()),(0,k.mm)("auth_access_token",e.accessToken.toString()),y(!0)}catch(t){o.vF.error("[SetupPage] Auth error:",t),b("Authentication error. Please sign in again."),setTimeout(()=>{e.push("/auth/signin")},1500)}})()},[e]),(0,n.useEffect)(()=>{if(!v)return;let e=!0;return O(Date.now()),(async()=>{try{let t=new URLSearchParams(window.location.search),r="true"===t.get("skipLoading"),a="true"===t.get("useRLS");if(r&&a){if(o.vF.debug("[SetupPage] Detected RLS + skipLoading, immediately completing setup"),!e)return;try{await (0,A._X)(A.V4.ONBOARDING_STATUS,"complete"),await (0,A._X)("custom:setupdone","true"),await (0,A._X)(A.V4.ONBOARDING_STEP,"complete");let e=Date.now()-j;R(e),(0,k.mm)("setup_complete",!0),(0,k.mm)("setup_timestamp",Date.now()),(0,k.mm)("setup_duration",e),(0,k.mm)("setup_useRLS",!0),(0,k.mm)("onboarding_status","complete"),o.vF.debug("[SetupPage] Updated Cognito and AppCache for immediate RLS setup")}catch(e){o.vF.error("[SetupPage] Error updating attributes for RLS setup:",e)}w(!0),p("complete");return}if(o.vF.debug("[SetupPage] Starting standard setup"),(0,k.mm)("setup_in_progress",!0),!e)return;p("configuring");try{await (0,u.refreshUserSession)(),o.vF.debug("[SetupPage] Session refreshed successfully")}catch(e){o.vF.warn("[SetupPage] Session refresh warning:",e)}if(!e)return;p("permissions");try{let e=await C();o.vF.debug("[SetupPage] RLS setup result:",e)}catch(e){o.vF.warn("[SetupPage] RLS setup warning:",e)}if(!e)return;p("finalizing");try{await (0,d.L8)(),o.vF.debug("[SetupPage] Onboarding attributes updated")}catch(e){o.vF.warn("[SetupPage] Attribute update warning:",e)}if((0,k.mm)("setup_completed",!0),(0,k.mm)("onboarding_step","complete"),(0,k.mm)("onboarded_status","complete"),(0,k.mm)("has_session",!0),(0,k.mm)("setup_timestamp",Date.now()),j){let e=Date.now()-j;(0,k.mm)("setup_duration",e)}if((0,A._X)(A.V4.ONBOARDING_STATUS,"complete").catch(e=>o.vF.warn("[SetupPage] Error saving onboarding status to Cognito:",e)),(0,A._X)(A.V4.ONBOARDING_STEP,"complete").catch(e=>o.vF.warn("[SetupPage] Error saving onboarding step to Cognito:",e)),!e)return;w(!0),p("complete"),o.vF.debug("[SetupPage] Setup completed successfully")}catch(t){if(!e)return;o.vF.error("[SetupPage] Setup process error:",t),b("Setup error: "+(t.message||"Unknown error")),p("error")}})(),()=>{e=!1}},[v,e,j]);let C=async()=>{try{return(await i.SP.post("/api/onboarding/setup-rls",{timestamp:Date.now()})).data}catch(e){throw o.vF.error("[SetupPage] RLS setup API error:",e),e}};return h?(0,a.jsx)("div",{className:"max-w-lg mx-auto mt-10 p-6 bg-white rounded-xl shadow-sm",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center py-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 mb-6 text-red-500",children:(0,a.jsx)(N.A,{className:"w-full h-full"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-red-600 mb-3",children:"Setup Error"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:h}),(0,a.jsxs)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2",children:[(0,a.jsx)(_.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Try Again"})]})]})}):x?(0,a.jsx)("div",{className:"max-w-3xl mx-auto mt-6",children:(0,a.jsx)(S,{onContinue:()=>{try{fetch("/api/dashboard/prefetch",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).catch(()=>{})}catch(e){}window.location.href="/dashboard?newAccount=true"},setupDuration:P})}):(0,a.jsx)("div",{className:"max-w-lg mx-auto mt-10 p-6 bg-white rounded-xl shadow-sm",children:(0,a.jsxs)("div",{className:"flex flex-col items-center py-6",children:[(0,a.jsxs)("div",{className:"w-full max-w-md mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:L[f].label}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:[f+1,"/",L.length]})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:L[f].description}),(0,a.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2.5 mb-6",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2.5 rounded-full transition-all duration-500",style:{width:"".concat(f/(L.length-1)*100,"%")}})}),(0,a.jsx)("div",{className:"flex justify-between w-full",children:L.map((e,t)=>(0,a.jsx)("div",{className:"flex flex-col items-center",children:(0,a.jsx)("div",{className:"w-4 h-4 rounded-full mb-1 flex items-center justify-center ".concat(t<f?"bg-blue-500":t===f?"bg-white border-2 border-blue-500":"bg-gray-200"),children:t<f&&(0,a.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})},t))})]}),(0,a.jsx)("div",{className:"flex items-center justify-center mb-8",children:"permissions"===r?(0,a.jsxs)("div",{className:"flex items-center gap-3 text-blue-600",children:[(0,a.jsx)(E,{className:"w-8 h-8 animate-pulse"}),(0,a.jsx)("span",{children:"Setting up security permissions..."})]}):(0,a.jsx)(l.A,{size:"medium"})}),(0,a.jsx)("p",{className:"text-sm text-gray-500 text-center max-w-xs",children:"This may take a moment. We're setting up your account with everything you need."})]})})}},36465:(e,t,r)=>{"use strict";function a(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}r.r(t),r.d(t,{_:()=>a})},57655:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(36465),n=r(12115);let s=n.forwardRef(function(e,t){var{title:r,titleId:s}=e,i=(0,a._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},78452:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(36465),n=r(12115);let s=n.forwardRef(function(e,t){var{title:r,titleId:s}=e,i=(0,a._)(e,["title","titleId"]);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},80893:(e,t,r)=>{Promise.resolve().then(r.bind(r,35924))},99944:(e,t,r)=>{"use strict";r.d(t,{Hu:()=>f,V4:()=>o,YR:()=>h,_X:()=>c,cD:()=>g,dA:()=>b,of:()=>m,qp:()=>x,zz:()=>d});var a=r(11024),n=r(52584),s=r(29670),i=r(42749);let o={LANGUAGE:"custom:language",THEME:"custom:theme",BUSINESS_NAME:"custom:businessname",BUSINESS_TYPE:"custom:businesstype",TENANT_ID:"custom:tenant_ID",UI_SCALE:"custom:ui_scale",UI_DENSITY:"custom:ui_density",SIDEBAR_COLLAPSED:"custom:sidebar_collapsed",ONBOARDING_STATUS:"custom:onboarding",ONBOARDING_STEP:"custom:onboarding_step",SUBSCRIPTION_PLAN:"custom:subscription",PREFERENCES_MIGRATED:"custom:preferences_migrated",UI_PREFERENCES_MIGRATED:"custom:ui_preferences_migrated",COOKIE_CONSENT:"custom:cookie_consent",ANALYTICS_CONSENT:"custom:analytics_consent",MARKETING_CONSENT:"custom:marketing_consent"};async function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(!e)throw Error("Preference key is required");let r="user_pref_".concat(e),n=(0,s.gd)(r);if(void 0!==n)return n;let i=(await (0,a.T)())[e]||t;return null!==i&&(0,s.mm)(r,i,{ttl:2592e6}),i}catch(r){return i.vF.error('[userPreferences] Error getting preference "'.concat(e,'":'),r),t}}async function c(e,t){try{if(!e)throw Error("Preference key is required");if(!e.startsWith("custom:"))throw Error('Preference key must start with "custom:"');let r="user_pref_".concat(e);return(0,s.mm)(r,t,{ttl:2592e6}),await (0,n.u)({userAttributes:{[e]:null!=t?String(t):""}}),i.vF.debug("[userPreferences] Preference saved: ".concat(e,"=").concat(t)),!0}catch(t){return i.vF.error('[userPreferences] Error saving preference "'.concat(e,'":'),t),!1}}async function u(e){try{if(!e||0===Object.keys(e).length)throw Error("Preferences object is required");let t={};return Object.entries(e).forEach(e=>{let[r,a]=e,n=r.startsWith("custom:")?r:"custom:".concat(r);t[n]=null!=a?String(a):"",(0,s.mm)("user_pref_".concat(n),a,{ttl:2592e6})}),await (0,n.u)({userAttributes:t}),i.vF.debug("[userPreferences] Multiple preferences saved: ".concat(Object.keys(e).join(", "))),!0}catch(e){return i.vF.error("[userPreferences] Error saving multiple preferences:",e),!1}}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"system";return l(o.THEME,e)}async function m(e){return c(o.THEME,e)}async function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return l(o.LANGUAGE,e)}async function f(e){return c(o.LANGUAGE,e)}async function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not_started";return l(o.ONBOARDING_STATUS,e)}async function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"business_info";return l(o.ONBOARDING_STEP,e)}async function b(e){let t={};return e.status&&(t[o.ONBOARDING_STATUS]=e.status),e.step&&(t[o.ONBOARDING_STEP]=e.step),u(t)}function x(){return{name:"cognitoDetector",lookup:async function(){try{let e=(0,s.gd)("user_pref_".concat(o.LANGUAGE));if(e)return e;let t=await p();if(t)return t;if("undefined"!=typeof localStorage){let e=localStorage.getItem("i18nextLng");if(e)return f(e).then(()=>{(0,s.mm)("user_pref_".concat(o.LANGUAGE),e)}).catch(e=>{i.vF.error("[i18n] Error saving migrated language preference:",e)}),e}return null}catch(e){return i.vF.error("[i18n] Error in Cognito language detector:",e),null}},cacheUserLanguage:function(e){f(e).then(()=>{(0,s.mm)("user_pref_".concat(o.LANGUAGE),e)}).catch(e=>{i.vF.error("[i18n] Error saving language preference:",e)})}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[54940,9296,79480,58430,84620,23639,38501,78746,20171,79189,6874,31296,38772,29729,3963,25956,28835,11249,28441,31684,77358],()=>t(80893)),_N_E=e.O()}]);