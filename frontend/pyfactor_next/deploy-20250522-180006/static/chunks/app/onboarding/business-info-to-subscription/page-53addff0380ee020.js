(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73748],{6797:(e,t,s)=>{Promise.resolve().then(s.bind(s,40606))},19596:(e,t,s)=>{"use strict";s.d(t,{kd:()=>r});let r={BUSINESS_INFO:"business-info",SUBSCRIPTION:"subscription",PAYMENT:"payment",SETUP:"setup",COMPLETE:"complete",DASHBOARD:"dashboard"}},35695:(e,t,s)=>{"use strict";var r=s(18999);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},40606:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(95155),a=s(66591),n=s(19596);function i(){return(0,r.jsx)(a.A,{from:n.kd.BUSINESS_INFO,to:n.kd.SUBSCRIPTION,message:"Processing your business information...",delayMs:1800,onBeforeNavigate:()=>{try{document.cookie="onboardingStep=".concat(n.kd.SUBSCRIPTION,"; path=/; max-age=").concat(86400,"; samesite=lax"),document.cookie="businessInfoCompleted=true; path=/; max-age=".concat(86400,"; samesite=lax")}catch(e){console.error("Error setting transition cookies:",e)}}})}},66591:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(95155),a=s(12115),n=s(35695),i=s(77657),o=s(19596);function c(e){let{from:t="",to:s="",toPath:c="",message:l="",delayMs:u=1500,data:d=null,onBeforeNavigate:m=null}=e,h=(0,n.useRouter)(),[x,f]=(0,a.useState)(Math.ceil(u/1e3)),[g,p]=(0,a.useState)(0),N=()=>c||("dashboard"===s?"/dashboard":"/onboarding/".concat(s)),S=()=>{if(d)try{sessionStorage.setItem("onboardingTransitionData",JSON.stringify({from:t,to:s,timestamp:Date.now(),data:d}))}catch(e){console.error("Failed to persist transition data:",e)}};return(0,a.useEffect)(()=>{let e=setInterval(()=>{p(e=>Math.min(e+100/(u/100),100))},100),t=setInterval(()=>{f(e=>Math.max(e-1,0))},1e3),s=setTimeout(()=>{if(S(),m)try{m()}catch(e){console.error("Error in onBeforeNavigate callback:",e)}let e=N();h.push(e)},u);return()=>{clearInterval(e),clearInterval(t),clearTimeout(s)}},[u,h,t,s,c,m,d]),(0,r.jsx)("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto p-8 rounded-xl bg-white shadow-sm",children:[(0,r.jsx)(i.A,{size:"large",showProgress:!0,progress:g}),(0,r.jsx)("h2",{className:"mt-6 text-xl font-semibold text-gray-800",children:l||(()=>{if(t===o.kd.BUSINESS_INFO&&s===o.kd.SUBSCRIPTION)return"Saving your business information...";if(t===o.kd.SUBSCRIPTION&&s===o.kd.PAYMENT)return"Preparing payment options...";if(t===o.kd.SUBSCRIPTION&&"dashboard"===s)return"Setting up your free account...";if(t===o.kd.PAYMENT&&s===o.kd.SETUP)return"Processing your payment...";if(t===o.kd.PAYMENT&&"dashboard"===s)return"Finalizing your account setup...";else if("dashboard"===s)return"Redirecting to dashboard...";else return"Redirecting to next step..."})()}),(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Redirecting ",s?"to ".concat(s):""," in ",x," second",1!==x?"s":""]}),(0,r.jsx)("div",{className:"mt-6 w-full bg-gray-100 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:"".concat(g,"%")}})})]})})}},77657:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(95155);function a(e){let{size:t="medium",fullscreen:s=!1,message:a="Loading...",color:n="currentColor"}=e,i={small:{spinner:"h-4 w-4",text:"text-sm"},medium:{spinner:"h-8 w-8",text:"text-base"},large:{spinner:"h-12 w-12",text:"text-lg"}},o=i[t]||i.medium;return(0,r.jsx)("div",{className:s?"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-80":"flex flex-col items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"".concat(o.spinner," animate-spin"),style:{color:n},children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"opacity-25",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),a&&(0,r.jsx)("div",{className:"mt-3 ".concat(o.text," text-gray-700"),children:a})]})})}s(12115)}},e=>{var t=t=>e(e.s=t);e.O(0,[28441,31684,77358],()=>t(6797)),_N_E=e.O()}]);