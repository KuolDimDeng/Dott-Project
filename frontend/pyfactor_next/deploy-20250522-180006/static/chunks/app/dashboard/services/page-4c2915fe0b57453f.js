(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79834],{3803:(e,s,t)=>{Promise.resolve().then(t.bind(t,89676))},35695:(e,s,t)=>{"use strict";var r=t(18999);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},89676:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(55166),a=t(68387),n=t(95155),l=t(12115),o=t(35695);function i(){let e=(0,o.useRouter)(),[s,t]=(0,l.useState)([]),[i,c]=(0,l.useState)(!0),[d,x]=(0,l.useState)(""),[h,u]=(0,l.useState)(!1),[m,p]=(0,l.useState)(null),[g,w]=(0,l.useState)({show:!1,message:"",type:"success"});(0,l.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await fetch("/api/services"),s=await e.json();t(s)}catch(e){console.error("Error fetching services:",e),N("Error loading services","error")}finally{c(!1)}},j=s=>{e.push("/dashboard/services/".concat(s.id,"/edit"))},y=e=>{p(e),u(!0)},f=async()=>{try{await fetch("/api/services/".concat(m.id),{method:"DELETE"}),t(s.filter(e=>e.id!==m.id)),N("Service deleted successfully","success")}catch(e){console.error("Error deleting service:",e),N("Error deleting service","error")}finally{u(!1),p(null)}},N=(e,s)=>{w({show:!0,message:e,type:s}),setTimeout(()=>{w((0,a._)((0,r._)({},g),{show:!1}))},6e3)},b=s.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.code.toLowerCase().includes(d.toLowerCase()));return(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"Services"}),(0,n.jsxs)("button",{onClick:()=>{e.push("/dashboard/services/new")},className:"flex items-center bg-[#0a3977] hover:bg-[#041e42] text-white px-4 py-2 rounded shadow-sm transition-colors",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Service"]})]}),(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsxs)("div",{className:"relative flex-grow",children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,n.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,n.jsx)("input",{type:"text",placeholder:"Search services...",value:d,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,n.jsx)("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100 transition-colors",title:"Filter options",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})]})}),(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:i?(0,n.jsx)("div",{className:"h-2 w-full bg-gray-200",children:(0,n.jsx)("div",{className:"h-2 bg-blue-500 animate-pulse"})}):(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,n.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[b.map(e=>(0,n.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.name}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.code}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",e.rate,"/hr"]}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.duration," mins"]}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.category}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,n.jsx)("button",{onClick:()=>j(e),className:"text-blue-600 hover:text-blue-900 mr-3",title:"Edit",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,n.jsx)("button",{onClick:()=>y(e),className:"text-red-600 hover:text-red-900",title:"Delete",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id)),0===b.length&&(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No services found"})})]})]})})}),h&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Delete Service"}),(0,n.jsxs)("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete ",null==m?void 0:m.name,"?"]}),(0,n.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,n.jsx)("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,n.jsx)("button",{onClick:f,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Delete"})]})]})}),g.show&&(0,n.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,n.jsx)("div",{className:"rounded-lg shadow-lg px-6 py-4 ".concat("success"===g.type?"bg-green-50 border-l-4 border-green-500":"bg-red-50 border-l-4 border-red-500"),children:(0,n.jsxs)("div",{className:"flex items-center",children:["success"===g.type?(0,n.jsx)("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):(0,n.jsx)("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,n.jsx)("p",{className:"ml-3 ".concat("success"===g.type?"text-green-700":"text-red-700"),children:g.message})]})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[28441,31684,77358],()=>s(3803)),_N_E=e.O()}]);