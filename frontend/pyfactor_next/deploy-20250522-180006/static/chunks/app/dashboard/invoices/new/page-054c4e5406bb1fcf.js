(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[82779],{11888:(e,t,s)=>{Promise.resolve().then(s.bind(s,27519))},12743:(e,t,s)=>{"use strict";s.d(t,{A:()=>n}),s(95155);var r=s(12115),a=s(29729);function n(){let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)("");return(0,r.useEffect)(()=>(t("https:"===window.location.protocol),window.__resetCircuitBreakers=a.resetCircuitBreakers,window.resetCircuitBreakers=()=>((0,a.resetCircuitBreakers)(),console.log("[HttpsConfig] Circuit breakers manually reset"),!0),"https:"===window.location.protocol&&((0,a.resetCircuitBreakers)(),console.log("[HttpsConfig] Circuit breakers auto-reset for HTTPS mode")),()=>{delete window.__resetCircuitBreakers}),[]),null}},15343:(e,t,s)=>{"use strict";s.d(t,{A:()=>r.A});var r=s(14745)},19596:(e,t,s)=>{"use strict";s.d(t,{kd:()=>r});let r={BUSINESS_INFO:"business-info",SUBSCRIPTION:"subscription",PAYMENT:"payment",SETUP:"setup",COMPLETE:"complete",DASHBOARD:"dashboard"}},27519:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(95155);s(12115);var a=s(53498),n=s(95725);function o(){return(0,r.jsx)(a.A,{children:(0,r.jsx)(n.default,{newInvoice:!0})})}},53498:(e,t,s)=>{"use strict";s.d(t,{A:()=>b});var r=s(95155),a=s(11518),n=s.n(a),o=s(12115),c=s(35695),i=s(42749);s(55028),s(66766);var l=s(15343);s(19596);var d=s(51174),u=s(12743),h=s(55166),m=s(68387);async function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.startsWith("/")?e.substring(1):e,r=(0,m._)((0,h._)({},t),{headers:(0,h._)({"Content-Type":"application/json"},t.headers)});try{let e=await fetch("/api/proxy/".concat(s),r);if(!e.ok)throw Error("API request failed with status ".concat(e.status));return await e.json()}catch(t){throw console.error("[proxyFetch] Error fetching ".concat(e,":"),t),t}}let x={get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(e,(0,h._)({method:"GET"},t))},resetCircuitBreakers:function(){let e=Object.keys(localStorage).filter(e=>e.startsWith("circuitBreaker:"));return e.forEach(e=>{console.log("[resetCircuitBreakers] Removing ".concat(e," from localStorage")),localStorage.removeItem(e)}),console.log("[resetCircuitBreakers] Reset ".concat(e.length," circuit breakers")),window.__resetCircuitBreakers&&(window.__resetCircuitBreakers(),console.log("[resetCircuitBreakers] Called global reset function")),e.length}};function p(){let[e,t]=(0,o.useState)(null),[s,a]=(0,o.useState)(null),[n,c]=(0,o.useState)(!1),[i,l]=(0,o.useState)(!1),[d,u]=(0,o.useState)("hr/employees"),[h,m]=(0,o.useState)(""),g=async()=>{c(!0);try{try{let e={"Content-Type":"application/json"};h&&(e.Authorization="Bearer ".concat(h));let t=await fetch("https://127.0.0.1:8000/api/".concat(d,"/"),{method:"GET",headers:e});console.log("[HttpsDebugger] Direct API response:",t)}catch(e){console.warn("[HttpsDebugger] Direct API request failed:",e)}let e={};h&&(e={headers:{Authorization:"Bearer ".concat(h)}});let s=await x.get(d,e);t({success:!0,message:"API connection successful",data:s})}catch(e){t({success:!1,message:"API connection failed",error:e.message})}finally{c(!1)}};return(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-4 my-4 max-w-xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"HTTPS Debug Tools"}),(0,r.jsx)("button",{onClick:()=>l(!i),className:"text-gray-600 hover:text-blue-500",children:i?"Collapse":"Expand"})]}),i&&(0,r.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["API Endpoint",(0,r.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"e.g., hr/employees",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Auth Token (optional)",(0,r.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Bearer token for authenticated endpoints",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:g,disabled:n,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:n?"Testing...":"Test API Connection"}),(0,r.jsx)("button",{onClick:()=>{try{let e=x.resetCircuitBreakers();a({success:!0,message:"Reset ".concat(e," circuit breakers")})}catch(e){a({success:!1,message:"Failed to reset circuit breakers",error:e.message})}},className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600",children:"Reset Circuit Breakers"})]}),e&&(0,r.jsxs)("div",{className:"p-3 rounded ".concat(e.success?"bg-green-100":"bg-red-100"),children:[(0,r.jsx)("p",{className:"font-semibold",children:e.message}),!e.success&&(0,r.jsx)("p",{className:"text-red-600 text-sm",children:e.error}),e.success&&e.data&&(0,r.jsx)("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-sm overflow-auto max-h-40",children:JSON.stringify(e.data,null,2)})]}),s&&(0,r.jsxs)("div",{className:"p-3 rounded ".concat(s.success?"bg-green-100":"bg-red-100"),children:[(0,r.jsx)("p",{className:"font-semibold",children:s.message}),!s.success&&(0,r.jsx)("p",{className:"text-red-600 text-sm",children:s.error})]})]}),(0,r.jsxs)("div",{className:"border-t pt-4",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Connection Information"}),(0,r.jsxs)("ul",{className:"text-sm space-y-1 text-gray-600",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Frontend URL:"})," ",window.location.origin]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"API Proxy:"})," ",window.location.origin,"/api/proxy/"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Backend URL:"})," https://127.0.0.1:8000/api/"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"HTTPS Mode:"})," ",window.__HTTPS_ENABLED?"Enabled":"Disabled"]})]})]}),(0,r.jsxs)("div",{className:"mt-4 border-t pt-4",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Common API Endpoints"}),(0,r.jsxs)("div",{className:"text-sm space-y-1 text-gray-600",children:[(0,r.jsx)("button",{onClick:()=>u("hr/employees"),className:"block text-blue-500 hover:underline",children:"HR Employees"}),(0,r.jsx)("button",{onClick:()=>u("finance/transactions"),className:"block text-blue-500 hover:underline",children:"Finance Transactions"}),(0,r.jsx)("button",{onClick:()=>u("database/health-check"),className:"block text-blue-500 hover:underline",children:"Database Health Check"})]})]}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:(0,r.jsx)("p",{children:"* This component is for development debugging only."})})]})]})}function b(e){let{children:t,newAccount:s,plan:a,tenantId:h}=e,m=(0,c.useRouter)(),[g,x]=(0,o.useState)(!1),[b,f]=(0,o.useState)(!1),[y,j]=(0,o.useState)(h),[v,k]=(0,o.useState)("initial"),w=(0,o.useRef)(0);return(0,o.useEffect)(()=>{var e;let t=()=>{w.current+=1,k("navigation-".concat(w.current))};return null==(e=m.events)||e.on("routeChangeComplete",t),()=>{var e;null==(e=m.events)||e.off("routeChangeComplete",t)}},[m]),(0,o.useEffect)(()=>{if(h)return void j(h);let e=(()=>{let e=document.cookie.split(";"),t=null;for(let s of e){let[e,r]=s.trim().split("=");if("tenantId"===e){t=r;break}}if(t)return t;try{return localStorage.getItem("tenantId")||sessionStorage.getItem("tenantId")}catch(e){return null}})();e&&(i.vF.info("[DashboardWrapper] Using tenant ID from cache: ".concat(e)),j(e))},[h]),(0,o.useEffect)(()=>{y&&(0,d.isValidUUID)(y)?(i.vF.info("[DashboardWrapper] Storing valid tenant ID: ".concat(y)),(0,d.$_)(y)):y&&i.vF.warn("[DashboardWrapper] Invalid tenant ID format: ".concat(y))},[y]),(0,r.jsxs)("div",{className:"jsx-2ea202641b209f13 flex flex-col min-h-screen bg-gray-50",children:[(0,r.jsx)(n(),{id:"2ea202641b209f13",children:'html,body{height:100%;min-height:100%;width:100%;overflow-x:hidden}body{font-family:var(--font-family,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif);margin:0;padding:0}::-moz-selection{background-color:rgba(67,56,202,.3)}::selection{background-color:rgba(67,56,202,.3)}'}),(0,r.jsxs)("main",{className:"jsx-2ea202641b209f13 flex-1",children:[(0,r.jsx)(p,{}),(0,r.jsx)(l.A,{tenantId:y,newAccount:s,plan:a,children:t},v)]}),(0,r.jsx)(u.A,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[54940,9296,79480,58430,84620,23639,38501,78746,20171,79189,6874,62052,66766,31296,66352,38772,35162,37921,8896,29729,44367,47856,67953,3963,83531,93078,14719,14745,95725,28441,31684,77358],()=>t(11888)),_N_E=e.O()}]);