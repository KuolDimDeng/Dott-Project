"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12661],{12661:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var a=i(95155),l=i(12115),r=i(29729),s=i(42749),d=i(87449);let c=()=>{let[e,t]=(0,l.useState)([]),[i,c]=(0,l.useState)(!1),n=(0,d.d)();(0,l.useEffect)(()=>{m()},[]);let m=async()=>{c(!0);try{let e=await r.SP.get("/api/income-by-customer/");t(e.data)}catch(e){s.vF.error("Error fetching incomes:",e),n.error("Failed to fetch incomes")}c(!1)},o=[{id:"customerName",label:"Customer",minWidth:170},{id:"email",label:"Email",minWidth:170},{id:"phone",label:"Phone",minWidth:130},{id:"total_income",label:"Total Income",minWidth:100,align:"right",format:e=>"$".concat(e.toFixed(2))}];return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Income by Customer"}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsx)("tr",{children:o.map(e=>(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat("right"===e.align?"text-right":"text-left"),style:{minWidth:e.minWidth},children:e.label},e.id))})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})})}):e.map(e=>(0,a.jsx)("tr",{className:"hover:bg-gray-50 transition-colors",tabIndex:-1,children:o.map(t=>{let i=e[t.id];return(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat("right"===t.align?"text-right":"text-left"),children:t.format&&"number"==typeof i?t.format(i):i},t.id)})},e.id))})]})})})]})}}}]);