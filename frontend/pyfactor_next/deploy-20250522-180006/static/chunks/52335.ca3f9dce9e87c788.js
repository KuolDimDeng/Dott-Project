"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[52335],{52335:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var s=r(95155),a=r(12115),d=r(81051),l=r(42749),i=r(8754);let x=e=>{let{open:t,onClose:r,productId:x,onEdit:c}=e,[n,m]=(0,a.useState)(!0),[o,y]=(0,a.useState)(null),[g,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{t&&x&&u()},[t,x]);let u=async()=>{try{m(!0),y(null);let e=((await d.o.getProducts()).data||[]).find(e=>e.id===x);e?h(e):y("Product not found")}catch(e){l.vF.error("Error fetching product details:",e),y("Failed to load product details")}finally{m(!1)}},j=e=>{if(!e)return"N/A";try{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch(e){return"Invalid date"}},N=e=>null==e?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return t?(0,s.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"product-detail-dialog",role:"dialog","aria-modal":"true",children:(0,s.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),(0,s.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),(0,s.jsxs)("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.I$,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Product Details"})]}),(0,s.jsxs)("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",children:[(0,s.jsx)(i.US,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]}),(0,s.jsx)("div",{className:"px-6 py-4 max-h-[70vh] overflow-y-auto",children:n?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):o?(0,s.jsx)("div",{className:"py-4 text-center",children:(0,s.jsx)("p",{className:"text-red-500 dark:text-red-400",children:o})}):g?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row mb-6",children:[(0,s.jsx)("div",{className:"w-full md:w-64 h-64 md:mr-6 mb-4 md:mb-0 bg-gray-100 dark:bg-gray-700 flex items-center justify-center rounded overflow-hidden",children:g.image_url?(0,s.jsx)("img",{src:g.image_url,alt:g.name,className:"max-h-full max-w-full object-contain"}):(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(i.I$,{className:"w-20 h-20 text-gray-400 dark:text-gray-500 opacity-50"}),(0,s.jsx)("span",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"No image"})]})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:g.name}),(0,s.jsxs)("div",{children:[!g.is_active&&(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 mr-2",children:"Inactive"}),void 0!==g.stock_quantity&&void 0!==g.reorder_level&&g.stock_quantity<g.reorder_level&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:[(0,s.jsx)(i.id,{className:"w-3 h-3 mr-1"}),"Low Stock"]})]})]}),(0,s.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:g.description||"No description available."}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.uT,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mr-2"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["SKU: ",(0,s.jsx)("span",{className:"font-medium",children:g.product_code||"N/A"})]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.Ez,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mr-2"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Category: ",(0,s.jsx)("span",{className:"font-medium",children:g.category_name||"Uncategorized"})]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.VE,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mr-2"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Price: ",(0,s.jsx)("span",{className:"font-medium",children:N(g.price)})]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.I$,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mr-2"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Stock: ",(0,s.jsx)("span",{className:"font-medium",children:g.stock_quantity||0})]})]})]})]})]}),(0,s.jsx)("hr",{className:"my-6 border-gray-200 dark:border-gray-700"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 h-full",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,s.jsx)(i.NB,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),"Inventory Details"]}),(0,s.jsx)("div",{className:"overflow-hidden",children:(0,s.jsx)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:(0,s.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white w-2/5",children:"Stock Quantity"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:void 0!==g.stock_quantity?(0,s.jsxs)("div",{className:"flex items-center",children:[g.stock_quantity,void 0!==g.reorder_level&&g.stock_quantity<g.reorder_level&&(0,s.jsxs)("div",{className:"ml-2 relative group",children:[(0,s.jsx)(i.id,{className:"w-4 h-4 text-yellow-500 dark:text-yellow-400"}),(0,s.jsx)("span",{className:"absolute left-0 -top-full transform -translate-x-1/2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Below reorder level"})]})]}):"N/A"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Reorder Level"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:void 0!==g.reorder_level?g.reorder_level:"N/A"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Location"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:g.location_name||"Default Location"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Last Ordered"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:g.last_ordered_date?j(g.last_ordered_date):"Never"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Dimensions"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:g.dimensions||"N/A"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Weight"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:g.weight?"".concat(g.weight," ").concat(g.weight_unit||"kg"):"N/A"})]})]})})})]}),(0,s.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 h-full",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,s.jsx)(i.VE,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),"Pricing & Supplier"]}),(0,s.jsx)("div",{className:"overflow-hidden",children:(0,s.jsx)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:(0,s.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white w-2/5",children:"Selling Price"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:N(g.price)})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Cost Price"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:N(g.cost_price)})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Profit Margin"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:g.price&&g.cost_price?(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[((g.price-g.cost_price)/g.price*100).toFixed(2),"%"]}):"N/A"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Tax Rate"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:void 0!==g.tax_rate?"".concat(g.tax_rate,"%"):"N/A"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Supplier"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.Rx,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 mr-1.5"}),g.supplier_name||"N/A"]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Barcode"}),(0,s.jsx)("td",{className:"py-3 text-sm text-gray-700 dark:text-gray-300",children:g.barcode||"N/A"})]})]})})})]}),(0,s.jsxs)("div",{className:"md:col-span-2 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,s.jsxs)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3 flex items-center",children:[(0,s.jsx)(i.UG,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 mr-1.5"}),"System Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.nn,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 mr-1.5"}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Created: ",j(g.created_at)]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.nn,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 mr-1.5"}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Updated: ",j(g.updated_at)]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",g.id]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["SKU: ",g.product_code||"N/A"]})})]})]})]})]}):(0,s.jsx)("div",{className:"py-4 text-center",children:(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Product not found"})})}),(0,s.jsxs)("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:[(0,s.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mr-3",children:"Close"}),g&&(0,s.jsxs)("button",{className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",onClick:()=>{r(),c(g)},children:[(0,s.jsx)(i.qU,{className:"w-4 h-4 mr-1.5"}),"Edit Product"]})]})]})]})}):null}}}]);