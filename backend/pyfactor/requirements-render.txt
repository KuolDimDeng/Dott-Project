# PyFactor Django API Requirements - Production Build
# BUILD CACHE BUSTER: 2025-06-21-deployment-test
# This timestamp forces Docker layer rebuild to ensure fresh dependency installation

# Core Django - Updated to 4.2.16 to resolve django-allauth dependency conflict
Django==4.2.16
gunicorn==20.1.0
whitenoise==6.5.0

# Database
psycopg2-binary==2.9.9
asyncpg==0.30.0

# Database connection pool - using compatible version
django-db-connection-pool==1.2.4

# WebSocket and Channels
channels==4.2.2
channels-redis==4.2.1
daphne==4.1.2

# AWS SDK
boto3==1.38.27
botocore==1.38.27

# Authentication and Security
PyJWT==2.9.0
cryptography==45.0.3
django-allauth==65.8.1

# REST Framework
djangorestframework==3.16.0
djangorestframework-simplejwt==5.5.0
dj-rest-auth==7.0.1

# CORS
django-cors-headers==4.7.0

# Additional Django packages
django-countries==7.6.1
django-phonenumber-field==8.1.0
phonenumbers==8.13.45
django-cryptography==1.1
django-celery-beat==2.8.1
django-extensions==4.1
django-filter==24.3
django-timezone-field==7.1

# Logging - CRITICAL: This was missing and causing the original pythonjsonlogger error
python-json-logger==2.0.7

# Cache and message broker
redis==6.2.0

# Task queue
celery==5.5.3

# Utilities and tools
requests==2.32.3
python-dotenv==1.1.0

# File handling
Pillow==10.4.0
python-barcode==0.15.1
reportlab==4.2.5

# Environment variables
python-dotenv==1.1.0

# Additional dependencies (from original requirements.txt)
python-crontab==3.2.0
cron-descriptor==1.4.5
django-postgrespool2==2.0.5

# AWS and cloud storage
s3transfer==0.13.0

# Additional Python packages
six==1.17.0
sqlparse==0.5.3
typing_extensions==4.13.2
tzdata==2025.2
urllib3==2.4.0
wcwidth==0.2.13
vine==5.1.0
kombu==5.5.4
billiard==4.2.1
amqp==5.3.1
click==8.2.1
click-didyoumean==0.3.1
click-plugins==1.1.1
click-repl==0.3.0
packaging==25.0
prompt-toolkit==3.0.51
msgpack==1.1.0
certifi==2025.4.26

# CRITICAL DEPENDENCIES - MUST BE INSTALLED
# Payment processing - CRITICAL for business_views.py line 15
stripe==12.2.0

# AI SDK for Smart Insights - CRITICAL for smart_insights app
anthropic==0.18.1

# Banking integration - CRITICAL for banking app
plaid-python==27.0.0

# JWE encryption support for Auth0 - CRITICAL for custom_auth
jwcrypto==1.5.6

# PDF generation - Using reportlab instead of weasyprint (no system dependencies)
# weasyprint==63.0  # Removed due to system library dependencies on Render

# Country codes - CRITICAL for payroll international support
iso3166==2.1.1

# HTML parsing - CRITICAL for tax modules
beautifulsoup4==4.12.3
lxml==5.3.0

# Google OAuth2 - Used in onboarding views  
google-auth==2.38.0
google-auth-httplib2==0.2.0
google-auth-oauthlib==1.2.1

# ASGI server - Used in run scripts (not needed for Render deployment)
# uvicorn==0.34.0  # Commented out as Render uses gunicorn
